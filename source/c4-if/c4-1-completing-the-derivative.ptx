<section label="if-intro-completing-derivative">
	<title> Completing the Derivative </title>	

	<introduction>

		<p>
			Many algebraic equations can be solved by strategically grouping or combining terms. For example, consider the quadratic equation:
		</p>

		<me>
			x^2 + 10x + 25 = 0.
		</me>

		<p>
			One way to solve this equation is by factoring the left-hand side:
		</p>

		<men xml:id="if-grouped-squared-eqn">
			(x + 5)^2 = 0.
		</men>

		<p>
			This grouping is helpful because taking the square root leads directly to the solution.
		</p> 

		<p>
			Certain <term>first-order differential equations</term> benefit from a similar strategy. Instead of grouping algebraic terms into a square, we restructure a differential equation so that one side appears as a <em>single derivative</em>.
		</p>

		<p>
			For example, the equation:
		</p>

		<men xml:id="if-intro-incomplete-eqn">
			\frac{dy}{dx} + 2 y = 5
		</men>

		<p>
			can be rewritten as:
		</p>

		<men xml:id="if-intro-complete-eqn">
			\frac{d}{dx} [e^{2x} y] = 5e^{2x}.
		</men>

		<p>
			This grouping provides a similar benefit as in <xref ref="if-grouped-squared-eqn"/>, except here integrating both sides leads directly to the solution.
		</p>

		<p>
			For now, we will refer to the process of converting <xref ref="if-intro-incomplete-eqn"/> into <xref ref="if-intro-complete-eqn"/> as <q>completing the derivative</q>. As you will soon see, this conversion is just a reversal of the product rule from calculus and is the core idea behind the <term>integrating factor method</term>.
		</p>

	</introduction>

	<paragraphs><title> The Product Rule—A Quick Review </title>

		<p>
			Before we attempt to reverse the product rule, let's first review the product rule as you remember it from calculus.
		</p>

		<p>
			Recall that the <term>product rule</term> describes how to differentiate a product of two functions. In particular, if <m>f(x)</m> and <m>g(x)</m> are differentiable, then
		</p>

		<me>
			\frac{d}{dx} \left[ f(x) \cdot g(x) \right] = f(x) \cdot g'(x) + f'(x) \cdot g(x).
		</me>

		<p>
			To refresh your memory of how it works, try these practice problems.
		</p>

		<task label="chkpt-product-rule-review-1">
			<title> Remembering the Product Rule </title>

			<introduction>
				<p>
					Compute each of the derivatives below. Assume <m>y</m> is a function of <m>x</m>.
				</p>
				<me>
					1. \quad \left[x^6 e^{3x}\right]' \hspace{5em} 2. \quad \frac{d}{dx}\left[e^{x^3} y\right]
				</me>
			</introduction>
				
			<webwork xml:id="chkpt-product-rule-review-1-ww">
				<pg-code>
					Context()->variables->add(y => 'Real');
					Context()->variables->{namePattern} = qr/[a-z][a-z0-9_]*'*/i;
    				Context()->variables->add("y'"=>"Real");
					$f1 = Formula("x^6");	$g1 = Formula("e^{3x}");
					$df1 = $f1->D('x');		$dg1 = $g1->D('x');
					$f2 = Formula("e^{x^3}");	$g2 = Formula("y");
					$df2 = $f2->D('x');			$dg2 = Formula("y'");

					$ans1 = $f1 * $dg1 + $df1 * $g1;
					$ans2 = $f2 * $dg2 + $df2 * $g2;
				</pg-code>

				<statement>
					<p>
						<ol marker="1.">
							<li><m>\displaystyle\frac{d}{dx}\left[x^6 e^{3x}\right] = </m> <var name="$ans1" width="25" /></li>
							<li><m>\displaystyle\left[e^{x^3} y\right]' = </m> <var name="$ans2" width="25" /></li>
						</ol>
						Use <c>y'</c> for the derivative of <m>y</m> in question 2.
					</p>
				</statement>
			</webwork>

			<solution>
				<p>
					Using the product rule:
					<ol>
						<li>
							<me>
								\left[ x^6 e^{3x} \right]'
									= x^6 \cdot 3e^{3x} + 6x^5 \cdot e^{3x}
							</me>
						</li>
						<li>
							<me>
								\frac{d}{dx}\left[ e^{x^3} y(x) \right]
									= e^{x^3} \cdot y'(x) + 3x^2 e^{x^3} \cdot y(x)
							</me>
						</li>
					</ol>
				</p>
			</solution>

		</task>

	</paragraphs>

	<paragraphs label="product-rule-in-reverse">
		<title> The Product Rule in Reverse </title>

		<p>
			Now that you are familiar with the forward direction of the product rule, let's start thinking about it in reverse. To start, think about which product rule would produce the following expression?
			<men xml:id="product-rule-in-reverse-eqn-1">
				\frac{1}{x} \sin x + \cos x \ln x \quad <answer><m>\left[ \sin x \cdot \ln x \right]'</m></answer>
			</men>
		</p>

		<p>
			That is, what <m>f(x)</m> and <m>g(x)</m> would you choose so that 
			<me>
				\frac{d}{dx} \left[ f(x) g(x) \right] = \frac{1}{x} \sin x + \cos x \ln x
			</me>.
		</p>

		<p>
			A nice feature of the product rule is that <m>f</m> and <m>g</m> must be two of the four terms on the right. The remaining two are <m>f'</m> and <m>g'</m>. A bit logic and trial and error should lead you to <m>f(x)=\sin x</m> and <m>g(x)=\ln x</m>. Therefore, expression <xref ref="product-rule-in-reverse-eqn-1"/> can be rewritten as
		</p>

		<me>
			\frac{d}{dx} \left[ \sin x \cdot \ln x \right]
		</me>.

		<p>
			Let's get comfortable with this reverse thinking with a few more examples.
		</p>

		<example><title> Basic Reverse Product Rule </title>

			<p>
				<statement>
					<p>
						Rewrite each expression in the form <m>[f(x) g(x)]'</m>.
						<me>
							1. \quad e^{x}\cos x + e^{x}\sin x \hspace{5em} 2. \quad \frac{e^{x^2}}{x} + 2 x \ln x e^{x^2}
						</me>
					</p>
				</statement>
			</p>

			<solution>
				<p>
					<solution>

						<p>
							First, select an <m>f</m> and <m>g</m> in different terms, like so
						</p>

						<p>
							<me>
								e^x\
								\underset{\Large f}{ \underset{\uparrow}{\ul{\vphantom{|}\cos x}}}
								+
								\underset{\Large g}{ \underset{\uparrow}{\ul{\vphantom{|}e^x}}}\
								\sin x
							</me>.
						</p>

						<p>
							For this to work, <m>f'</m> should be <m>\sin x</m>, next to our chosen <m>g</m>. However,
							<me>
								f' = [\cos x]' = -\sin x \ne \sin x \quad ❌
							</me>
						</p>

						<p>
							So this labeling doesn't work and we instead try the labels
						</p>

						<p>
							<me>
								\underset{\Large f}{ \underset{\uparrow}{\ul{\vphantom{|}e^x}}}\
								\cos x
								+
								e^x\
								\underset{\Large g}{ \underset{\uparrow}{\ul{\vphantom{|}\sin x}}}
							</me>.
						</p>

						<p>
							Noting that <m>f' = [e^x]' = e^x</m> is next to <m>g</m> and <m>g' = [\sin x]' = \cos x</m> is next to <m>f</m> confirms this is a valid product rule. Therefore, we can reverse the product rule as
						</p>

						<me>
							e^x \cos x + e^x \sin x = [e^x \sin x]'
						</me>.


					</solution>

					<solution>

						<p>
							To make this easier, let's separate the terms as
							<me>
								\frac{1}{x} e^{x^2} + \ln x (2 x e^{x^2})
							</me>.
						</p>
						
						<p>
							So, as before, we first set <m>f</m> and <m>g</m>
						</p>

						<me>
							\frac{1}{x}\
							\underset{\Large f}{ \underset{\uparrow}{\ul{\vphantom{|}e^{x^2}}}}
							+
							\underset{\Large g}{ \underset{\uparrow}{\ul{\vphantom{|}\ln x}}}\
							2 x e^{x^2}
						</me>,

						<p>
							then verify the derivatives of <m>f</m> and <m>g</m> are in the other terms,
						</p>

						<me>
							f' = \left[e^{x^2}\right]' = 2 x e^{x^2} \quad ✅ \qquad g' = \left[\ln x\right]' = \frac{1}{x} \quad ✅
						</me>.

						<p>
							Therefore,
						</p>

						<me>
							\frac{e^{x^2}}{x} + 2 x \ln x e^{x^2} = \left[e^{x^2} \ln x\right]'
						</me>.
					</solution>
				</p>
			</solution>
			
		</example>

		<p>
			The next example involves an expression that contains a variable, making it more relevant to our ultimate goal of solving differential equations.
		</p>

		<example xml:id="reversed-product-rule-example">
			<title> Reversed Product Rule with a Variable </title>

			<p>
				<statement>
					<p>
						Rewrite each expression in the form <m>[f(x) y(x)]'</m>.
						<me>
							1. \quad e^{9x}\frac{dy}{dx} + 9y e^{9x} \hspace{5em} 2. \quad e^{1/x}y' - \frac{e^{1/x}}{x^2}y
						</me>
					</p>
				</statement>
			</p>

			<solution>
				<p>
					<solution>
						<p>
							Since <m>dy/dx</m> and <m>y</m> are in separate terms, setting <m>g</m> to <m>y</m> gives you <m>g'</m> and <m>f</m> for free since
						</p>

						<me>
							\underset{\Large f}{ \underset{\uparrow}{\ul{e^{9x}}}}\
							\underset{\Large g'}{ \underset{\uparrow}{\ul{\vphantom{|}\frac{dy}{dx}}}}
							+
							\underset{\Large g}{ \underset{\uparrow}{\ul{\vphantom{|}y}}}\
							(9 e^{9x})
						</me>.

						<p>
							The only thing you need to check is
							<me>
								f' = [e^{9x}]' = 9e^{9x} \quad ✅
							</me>
							which is sitting right next to <m>g</m>. Therefore, we have
						</p>

						<me>
							e^{9x}\frac{dy}{dx} + 9 e^{9x} y = \left[e^{9x} y\right]'
						</me>.

					</solution>

					<solution>

						<p>
							Again, set <m>g</m> to <m>y</m> and the rest fall into place as
						</p>

						<me>
							\underset{\Large f}{ \underset{\uparrow}{\ul{e^{1/x}}}}\
							\underset{\Large g'}{ \underset{\uparrow}{\ul{\vphantom{|}y'}}}
							+
							\left(-\frac{e^{1/x}}{x^2}\right)\
							\underset{\Large g}{ \underset{\uparrow}{\ul{\vphantom{|}y}}}
						</me>.

						<p>
							The only thing left to do is verify the derivative of <m>f</m>:
							<me>
								f' = \left[e^{1/x}\right]' = e^{1/x}\left[\frac{1}{x}\right]^\prime = e^{1/x}\left(-\frac{1}{x^2}\right) = -\frac{e^{1/x}}{x^2} \quad ✅
							</me>.
						</p>

						<p>
							So, we can reverse the product rule as
						</p>

						<me>
							e^{1/x}y' - \frac{e^{1/x}}{x^2}y = \left[e^{1/x} y\right]'
						</me>.

					</solution>
				</p>
			</solution>
			
		</example>

		<exercise label="chkpt-reversed-product-rule-2">
			<title> What's Missing in the Product Rule </title>

				<statement>
					<p>
						Fill in the missing parts of each product rule below.
					</p>
					<p>
						<m>\ds\frac{d}{dx}\left[x^2 \cos x\right] = </m>
						<m>x^2 \cdot</m> <var width="3px"/> <m>+</m> <var  width="3px"/> <m>\cdot \cos x</m>
					</p>
					<p>
						<m>\ds\frac{d}{dx}\big[e^{3x} </m> <var width="3px"/> <m>\big] = </m>
						<m>\ds\frac{1}{x} \cdot e^{3x} + </m> <var  width="3px"/> <m> e^{3x} \cdot \ln x </m>
					</p>
					<p>
						<m>\ds\frac{d}{dx}\big[ </m> <var width="3px"/> <m> \cdot </m> <var width="3px"/> <m>\big] = </m>
						<m>\ds\frac{dP}{dt} \cdot t + P </m>
					</p>
				</statement>
				<setup>
					<var>
						<condition string="\s*-\s*sin\s*\(?x\)?\s*">
							<feedback>
								<p>
									<line>Correct!</line>
								</p>
							</feedback>
						</condition>
						<condition string=".*">
							<feedback>
								<p>
									<line>Incorrect, try again.</line>
								</p>
							</feedback>
						</condition>
					</var>
					<var>
						<condition string="\s*2\s*\*\s*x\s*">
							<feedback>
								<p>
									<line>Correct!</line>
								</p>
							</feedback>
						</condition>
						<condition string=".*">
							<feedback>
								<p>
									<line>Incorrect, try again.</line>
								</p>
							</feedback>
						</condition>
					</var>
					<var>
						<condition string="\s*ln\s*\(?x\)?\s*">
							<feedback>
								<p>
									<line>Correct!</line>
								</p>
							</feedback>
						</condition>
						<condition string="\s*ln\s*">
							<feedback>
								<p>
									<line>Incorrect, expecting to see the independent variable <m>x</m>.</line>
								</p>
							</feedback>
						</condition>
						<condition string=".*log.*">
							<feedback>
								<p>
									<line>Incorrect, use the natural log instead.</line>
								</p>
							</feedback>
						</condition>
						<condition string=".*">
							<feedback>
								<p>
									<line>Incorrect, try again.</line>
								</p>
							</feedback>
						</condition>
					</var>
					<var>
						<condition number="3">
							<feedback>
								<p>
									<line>Correct!</line>
								</p>
							</feedback>
						</condition>
						<condition string=".*">
							<feedback>
								<p>
									<line>Incorrect, don't forget the chain rule.</line>
								</p>
							</feedback>
						</condition>
					</var>
					<var>
						<condition string="P">
							<feedback>
								<p>
									<line>Correct!</line>
								</p>
							</feedback>
						</condition>
						<condition string="t">
							<feedback>
								<p>
									<line>Put <m>t</m> in the other blank!</line>
								</p>
							</feedback>
						</condition>
						<condition string="p">
							<feedback>
								<p>
									<line>The variable should be a capitol <m>P</m>.</line>
								</p>
							</feedback>
						</condition>
						<condition string=".*">
							<feedback>
								<p>
									<line>Incorrect, try again.</line>
								</p>
							</feedback>
						</condition>
					</var>
					<var>
						<condition string="t">
							<feedback>
								<p>
									<line>Correct!</line>
								</p>
							</feedback>
						</condition>
						<condition string="P">
							<feedback>
								<p>
									<line>Put <m>P</m> in the other blank!</line>
								</p>
							</feedback>
						</condition>
						<condition string=".*">
							<feedback>
								<p>
									<line>Incorrect, try again.</line>
								</p>
							</feedback>
						</condition>
					</var>
				</setup>

		</exercise>

		<p>
			In general, reversing the product rule like this is not a standard technique, however working through a few of these can be beneficial for understanding how the integrating factor method works.
		</p>

	</paragraphs>

	<paragraphs label="perfect-derivative">
		<title> A Perfect Derivative </title>

		<p>
			Now that you have seen how to combine two terms into a single derivative by reversing the product rule, you are ready to see how this could help you solve a differential equation. Suppose you are given the following equation
		</p>

		<men xml:id="reverse-product-rule-DE">
			\ub{e^{2x} \frac{dy}{dx} + 2e^{2x} y}_{\text{expanded product rule?}} = 5e^{2x}.
		</men>

		<p>
			Seeing the two terms with a derivative suggests that it may be possible to reverse a product rule. In fact, the left side of <xref ref="reverse-product-rule-DE"/> is a <q>perfect derivative</q> since it can be reversed without modification (see <xref ref="reversed-product-rule-example"/>) as:
		</p>

		<men xml:id="reverse-product-rule-DE-solution">
			\frac{d}{dx} [ e^{2x} y ] = 5e^{2x}.
		</men>

		<p>
			Now direct integration easily solves this problem, as the next example illustrates.
		</p>

		<task label="chkpt-perfect-derivative-1">
			<title> Recognizing a Perfect Derivative </title>
			<statement>
				<p>
					What do we mean by <q>the below equation contains a perfect derivative</q>?
					<me>
						e^{2x} \frac{dy}{dx} + 2e^{2x} y = 3e^{2x}
					</me>.
				</p>
			</statement>
			<choices randomize="yes">
				<choice correct="yes">
					<statement>The equation is perfectly setup for one of its sides to be written as a single derivative.</statement>
					<feedback>Correct! The left hand side is exactly equal to <m>\left[e^{2x} y\right]'</m>.</feedback>
				</choice>
				<choice>
					<statement>It involves exponential functions, which have perfect derivatives.</statement>
					<feedback>Incorrect. While exponential function have unique derivatives, that is not what is meant here.</feedback>
				</choice>
				<choice>
					<statement>The equation has a perfect balance of exponential terms.</statement>
					<feedback>Incorrect. The statement <q>The equation has a perfect balance of exponential terms</q> not something you would say in differential equations.</feedback> 
				</choice>
				<choice>
					<statement>The derivative can be perfectly isolated on one side of the equation.</statement>
					<feedback>Incorrect. While the derivative can be isolated, that is not what is meant by a perfect derivative.</feedback>
				</choice>
			</choices>
		</task>

		<example xml:id="reversing-the-product-rule-example">
			<title> Reverse the Product Rule and Integrate </title>
			<p>
				<statement>
					<p>
						Rewrite the left-side of the equation
						<men xml:id="reversing-the-product-rule-example-eqn">
							e^{x^4} \frac{dy}{dx} + 4x^3e^{x^4} y = 5x
						</men>
						as a single derivative, then find the general solution by direct integration.
					</p>
				</statement>
			</p>

			<p>
				<solution>

					<p>
						We rewrite the left side as a single derivative by identifying it as a product rule that can be reversed. In the second term, we set <m>g</m> to <m>y</m>, which automatically determines what <m>g'</m> and <m>f</m> must be in the first term:  
					</p>

					<me>
						\underset{\Large f}{ \underset{\uparrow}{\ul{e^{x^4}}}}\
						\underset{\Large g'}{ \underset{\uparrow}{\ul{\vphantom{|}\frac{dy}{dx}}}}
						+
						\underset{\Large g}{ \underset{\uparrow}{\ul{\vphantom{|}y}}}\
						(4x^3 e^{x^4})
					</me>

					<p>
						and since <m>\ f' = [e^{x^4}]' = 4x^3 e^{x^4}\ </m>, the left side is a <q>perfect derivative</q> since it has everything it needs to reverse a product rule and bundle the terms into a single derivative, like so
					</p>

					<me>
						e^{x^4} \frac{dy}{dx} + 4x^3e^{x^4} y = \frac{d}{dx}\left[e^{x^4} y\right]
					</me>.

					<p>
						Rewriting the left side of equation <xref ref="reversing-the-product-rule-example-eqn"/> as this combined derivative allows us to find the general solution using direct integration as follows:
					</p>

					<md>
						<mrow>			\frac{d}{dx}\left[e^{x^4} \cdot y \right]	\amp = 5x										</mrow>
						<mrow>	\int \frac{d}{dx}\left[e^{x^4} \cdot y \right]\ dx	\amp = \int 5x \ dx								</mrow>
						<mrow>											e^{x^4} y	\amp = \frac{5}{2} x^2 + c						</mrow>
						<mrow>													y	\amp = \frac{5}{2} x^2 e^{-x^4} + c e^{-x^4}	</mrow>
					</md>.

				</solution>
			</p>
		</example>

		<p>
			This example highlights the power of writing one side of the equation as a derivative. Unfortunately, equations are rarely presented in a form where the derivative can be formed without some modification first. To motivate this, we will revisit <q>completing the square</q> from algebra that approaches solving equations in a similar manner.
		</p>

		<p label="rq-perfect-derivative-bundle">
			<task label="chkpt-perfect-derivative-3"><title> Equivalent Equations </title>
				<statement>
					<p>
						The differential equation,
					</p>

					<me>
						\frac{dQ}{dz}\ln z + \frac{Q}{z} = \tan\left(z^2\right)
					</me>

					<p>
						is equivalent to which of the following equations?
					</p>
				</statement>
				<choices>
					<choice>
						<statement>
							<m>\quad\ds\frac{d}{dz} \left[ Q z \right] = \tan\left(z^2\right)</m>
						</statement>
						<feedback>
							<p>
								Incorrect. This equation does not account for the logarithmic term in the original differential equation.
							</p>
						</feedback>
					</choice>
					<choice>
						<statement>
							<m>\quad\ds\frac{dQ}{dz} = \tan\left(z^2\right)</m>
						</statement>
						<feedback>
							<p>
								Incorrect. This equation does not account for the logarithmic term in the original differential equation.
							</p>
						</feedback>
					</choice>
					<choice correct="yes">
						<statement>
							<m>\quad\ds\frac{d}{dz} \left[ Q \ln z \right] = \tan\left(z^2\right)</m>
						</statement>
						<feedback>
							<p>
								Correct! Applying the product rule to the left side of the equation yields the original differential equation.
							</p>
						</feedback>
					</choice>
					<choice>
						<statement>
							<m>\quad\ds\frac{d}{dz} \left[ \frac{Q}{z} \right] = \tan\left(z^2\right)</m>
						</statement>
						<feedback>
							<p>
								Incorrect. This equation does not account for the logarithmic term in the original differential equation.
							</p>
						</feedback>
					</choice>
				</choices>
			</task>

			<task label="chkpt-reversed-product-rule-1"><title> Goal of Completing the Derivative </title>
				<statement>
					<p>
						How does reversing the product rule in the below equation help solve it?
						<me>
							\frac{dy}{dx} \cdot e^{5x^2} + 10x e^{5x^2} \cdot y = 3x
						</me>.
					</p>
				</statement>
				<choices>
					<choice correct="yes">
						<statement>It groups terms on one side of the equation into a single derivative.</statement>
						<feedback>Correct! The product rule combines terms on the left side of the equation into a single derivative.</feedback>
					</choice>
					<choice>
						<statement>It computes the derivative of a product of two functions.</statement>
						<feedback>Incorrect. In this situation, the product rule is not used to take a derivative of a product of two functions.</feedback>
					</choice>
					<choice>
						<statement>It solves the differential equation directly.</statement>
						<feedback>Incorrect. The product rule can help solve some differential equations, but it does not solve them alone.</feedback>
					</choice>
					<choice correct="yes">
						<statement>It allows it to be easily solved by direct integration.</statement>
						<feedback>Correct! Recognizing a perfect derivative lets us solve the equation by integration.</feedback>
					</choice>
					<choice>
						<statement>It converts a nonlinear equation into a linear one.</statement>
						<feedback>Incorrect. The equation is already linear; reversing the product rule does not change its nature.</feedback>
					</choice>
				</choices>
			</task>
		</p>
	</paragraphs>

	<paragraphs label="completing-square-analogy">
		<title> Completing the (Incomplete) Square—An Analogy </title>

		<p>
			<em>Note: Check the footnotes<fn>Yes, this is a footnote</fn>for a corresponding differential equation analogy mapping.</em>
		</p>

		<p>
			Suppose you wanted to solve the following quadratic equation<fn>→ differential equation</fn>
		</p>

		<sidebyside margins="32% 5%">
			<p>
				<m>\os{\large\text{incomplete square}}{\qquad \ob{\ x^2 + 6x\ } = -1}\ ^{→}</m>
				<fn><m>\os{\large\text{incomplete derivative}}{→ \ob{\ \frac{dy}{dx} + 2 y\ } = 5}</m></fn>
			</p>
		</sidebyside>

		<p>
			You could solve it using the quadratic formula. However, another approach is to <q>complete the square</q><fn>→ complete the derivative (i.e., integrating factor method)</fn>by strategically adding<fn>→ multiplying</fn>a number<fn>→ a function</fn>to both sides so that the left side becomes a <q>perfect square</q>.<fn>→ perfect derivative (i.e., ready for a reversed product rule)</fn>The strategy from <q>completing the square</q><fn>→ integrating factor method</fn>tells us that <m>\left(\frac{6}{2}\right)^2 = 9</m><fn>→ <m>e^{2x}</m></fn>does the trick, so we add<fn>→ multiply</fn> it to both sides to get
		</p>

		<sidebyside margins="35% 5%">
			<p>
				<m>\ub{x^2 + 6x + 9}_{\large\text{complete square}} = -1 + 9\ ^{→}</m><fn>→ <m>\ub{e^{2x} \frac{dy}{dx} + 2e^{2x} y}_{\text{complete derivative}} = 5e^{2x}.</m></fn>
			</p>
		</sidebyside>

		<p>
			Completing the square<fn>→ integrating factor method</fn>gets it name because it tells you the missing piece<fn>→ integrating factor</fn>needed to factor<fn>→ reverse the product rule on</fn>the left side so that we have: 
		</p>

		<sidebyside margins="35% 5%">
			<p>
				<m>(x + 3)^2 = 8\ ^{→}</m><fn>→ <m>\frac{d}{dx}\left[e^{2x}y\right] = 5e^{2x}</m></fn>
			</p>
		</sidebyside>

		<p>
			Now, taking a square root<fn>integral</fn> frees <m>x</m><fn><m>y</m></fn> from the square<fn>derivative</fn>, leading to the solution
		</p>

		<sidebyside widths="34% 8% 34%" margins="12% 12%" valign="middle">
			<p>
				<m>x + 3 = \pm\sqrt{8}\ ^{→}</m><fn>→ <m>e^{2x}y = \frac52e^{2x} + c</m></fn>
			</p>
			<p>
				<m>\Rightarrow</m>
			</p>
			<p>
				<m>x = -3 \pm 2\sqrt{2}\ ^{→}</m><fn>→ <m>y = \frac52 + ce^{-2x}</m></fn>
			</p>
		</sidebyside>

	<exercise label="chkpts-completing-square"><title> <em>Answer-the-Following</em> </title>
	
		<task label="chkpt-completing-square-1"><title> <em>Purpose of Completing the Square</em> </title>
			<statement>
				<p>
					What is the primary purpose of completing the square in the given quadratic equation example?
				</p>
			</statement>
			<choices>
				<choice>
					<statement>
						<p>
							To factor the quadratic equation directly.
						</p>
					</statement>
					<feedback>
						<p>
							Incorrect. Factoring may not always be straightforward, whereas completing the square always works.
						</p>
					</feedback>
				</choice>
				<choice>
					<statement>
						<p>
							To eliminate the quadratic term entirely.
						</p>
					</statement>
					<feedback>
						<p>
							Incorrect. Completing the square does not eliminate the quadratic term; it reorganizes the equation.
						</p>
					</feedback>
				</choice>
				<choice correct="yes">
					<statement>
						<p>
							To rewrite the quadratic expression as a perfect square, making it easier to solve for x.
						</p>
					</statement>
					<feedback>
						<p>
							Correct! Completing the square allows us to express the quadratic as a perfect square trinomial.
						</p>
					</feedback>
				</choice>
				<choice>
					<statement>
						<p>
							To convert the equation into its derivative form.
						</p>
					</statement>
					<feedback>
						<p>
							Incorrect. Completing the square does not involve differentiation.
						</p>
					</feedback>
				</choice>
			</choices>
		</task>

		<task label="chkpt-completing-square-2"><title> <em>Understanding the Number 9</em> </title>
			<statement>
				<p>
					In the analogy presented, what does the number 9 represent in the quadratic equation example?
				</p>
			</statement>
			<choices>
				<choice correct="yes">
					<statement>
						<p>
							The missing piece that allows the quadratic expression to be rewritten as a perfect square.
						</p>
					</statement>
					<feedback>
						<p>
							Correct! The number 9 completes the square, making it factorable.
						</p>
					</feedback>
				</choice>
				<choice>
					<statement>
						<p>
							The solution to the quadratic equation.
						</p>
					</statement>
					<feedback>
						<p>
							Incorrect. The number 9 is introduced to complete the square, not as a solution.
						</p>
					</feedback>
				</choice>
				<choice>
					<statement>
						<p>
							The coefficient of the linear term.
						</p>
					</statement>
					<feedback>
						<p>
							Incorrect. The coefficient of the linear term in the quadratic equation is 6, not 9.
						</p>
					</feedback>
				</choice>
				<choice>
					<statement>
						<p>
							A randomly chosen constant added to balance the equation.
						</p>
					</statement>
					<feedback>
						<p>
							Incorrect. The number 9 is carefully selected to form a perfect square trinomial.
						</p>
					</feedback>
				</choice>
			</choices>
		</task>

	</exercise>

	</paragraphs>

	<paragraphs label="completing-incomplete-product-rule">
		<title> Completing the (Incomplete) Derivative </title>

		<p>
			As mention to in the previous sections, most first-order linear differential equations must be modified before its terms can be combined into a single derivative. To make sense of this, we will look at a concrete example using the differential equation
		</p>

		<sidebyside valign="middle" widths="5% 15% 5% 45% 30%">
			<p/>
			<p>
				incomplete derivative
			</p>
			<p>
				<me>
					\rightarrow
				</me>
			</p>
			<p>
				<me>
					\frac{dy}{dx} + 6y = -1
				</me>.
			</p>
			<p/>
		</sidebyside>

		<p>
			In this form, the left side resembles an expanded product rule, but if you attempt to reverse it you will see that no choice of <m>f</m> and <m>g</m> will work. However, if you multiply both sides by <m>e^{6x}</m>, the equation becomes
		</p>

		<sidebyside valign="middle" widths="5% 15% 5% 45% 30%">
			<p/>
			<p>
				complete derivative
			</p>
			<p>
				<me>
					\rightarrow
				</me>
			</p>
			<p>
				<me>
					e^{6x}\frac{dy}{dx} + 6e^{6x}y = -e^{6x}
				</me>.
			</p>
			<p/>
		</sidebyside>

		<p>
			The inclusion of <m>e^{6x}</m> provides the missing piece needed to reverse a product rule and update the equation as
		</p>

		<sidebyside valign="middle" widths="5% 15% 5% 45% 30%">
			<p/>
			<p>
				perfect derivative
			</p>
			<p>
				<me>
					\rightarrow
				</me>
			</p>
			<p>
				<me>
					\frac{d}{dx} [e^{6x} y] = -e^{6x}
				</me>.
			</p>
			<p/>
		</sidebyside>

		<p>
			With the left side as a single derivative, we can integrate both sides to find <m>y</m>.
		</p>

		<theorem><title> Analogy: A Side-by-Side Comparison </title>
			<statement>
				<p>
					The table below compares completing the square to the integrating factor method, highlighting their similarities:
					<tabular halign="center">
						<col right="minor"/>
						<col right="minor"/>
						<row bottom="minor">
							<cell/>
							<cell>Completing the Square</cell>
							<cell>
								<line>Integrating Factor Method</line>
								<line>(Completing the Derivative)</line>
							</cell>
						</row>
						<row><cell/><cell/><cell/></row>
						<row><cell/><cell/><cell/></row>
						<row>
							<cell>Goal</cell>
							<cell>Solve for <m>x</m></cell>
							<cell>Solve for <m>y</m></cell>
						</row>
						<row><cell/><cell/><cell/></row>
						<row><cell/><cell/><cell/></row>
						<row>
							<cell>Equation</cell>
							<cell><m>x^2 + 6x = -1</m></cell>
							<cell><m>\ds\frac{dy}{dx} + 6y = -1</m></cell>
						</row>
						<row><cell/><cell/><cell/></row>
						<row><cell/><cell/><cell/></row>
						<row>
							<cell>
								<line>Missing</line>
								<line>Piece</line>
							</cell>
							<cell><line><m>9</m></line><line><em>(added onto both sides)</em></line></cell>
							<cell><line><m>e^{6x}</m></line><line><em>(multiplied onto both sides)</em></line></cell>
						</row>
						<row><cell/><cell/><cell/></row>
						<row><cell/><cell/><cell/></row>
						<row>
							<cell>
								<line>Modified</line>
								<line>Equation</line>
							</cell>
							<cell><m>x^2 + 6x + \boxed{9} = -1 + \boxed{9}</m></cell>
							<cell><m>\ds\boxed{e^{6x}}\frac{dy}{dx} + 6\boxed{e^{6x}}y = -1 \boxed{e^{6x}}</m></cell>
						</row>
						<row><cell/><cell/><cell/></row>
						<row><cell/><cell/><cell/></row>
						<row>
							<cell>
								<line>Completed</line>
								<line>Equation</line>
							</cell>
							<cell><m>(x + 3)^2 = 8</m></cell>
							<cell><m>\ds\frac{d}{dx} [e^{6x} y] = -e^{6x}</m></cell>
						</row>
					</tabular>
				</p>
			</statement>
		</theorem>
	
	<exercise label="chkpts-completing-the-product-rule"><title> <em>Answer-the-Following</em> </title>
		
		<introduction>
			<p>
				Complete the questions on each tab to check your understanding.
			</p>
		</introduction>

		<task label="chkpt-completing-the-product-rule-1"><title> <em>Recognizing an Incomplete Product Rule</em> </title>
			<statement>
				<p>
					Why do we say the differential equation
					<me>
						\frac{dy}{dx} + 6y = -1
					</me>
					contains an incomplete product rule?
				</p>
			</statement>
			<choices>
				<choice correct="yes">
					<statement>
						<p>
							It lacks a function needed to reverse a product rule.
						</p>
					</statement>
					<feedback>
						<p>
							Correct! The equation is missing an essential function that would allow it to be rewritten using the product rule.
						</p>
					</feedback>
				</choice>
				<choice>
					<statement>
						<p>
							Because we haven't used the product rule yet.
						</p>
					</statement>
					<feedback>
						<p>
							Incorrect. The issue is not that the product rule hasn't been applied, but that the equation is not structured as a product rule.
						</p>
					</feedback>
				</choice>
				<choice>
					<statement>
						<p>
							It has a constant term of <m>-1</m>.
						</p>
					</statement>
					<feedback>
						<p>
							Incorrect. While the constant term is <m>-1</m>, the issue is related to the structure of the left-hand side.
						</p>
					</feedback>
				</choice>
				<choice>
					<statement>
						<p>
							It is not in standard form.
						</p>
					</statement>
					<feedback>
						<p>
							Incorrect. The equation actually is in standard form.
						</p>
					</feedback>
				</choice>
			</choices>
		</task>

		<task label="chkpt-completing-the-product-rule-3"><title> <em>Purpose of Multiplying by <m>e^{6x}</m></em> </title>
			<statement>
				<p>
					Why do we multiply both sides of
					<me>
						\frac{dy}{dx} + 6y = -1
					</me>
					by <m>e^{6x}</m>?
				</p>
			</statement>
			<choices>
				<choice correct="yes">
					<statement>
						<p>
							To complete a product rule within this equation.
						</p>
					</statement>
					<feedback>
						<p>
							Correct! Multiplying by <m>e^{6x}</m> allows us to rewrite the left-hand side as a perfect derivative.
						</p>
					</feedback>
				</choice>
				<choice>
					<statement>
						<p>
							To eliminate the derivative term entirely.
						</p>
					</statement>
					<feedback>
						<p>
							Incorrect. The goal is not to eliminate the derivative, but to structure the equation so it can be integrated directly.
						</p>
					</feedback>
				</choice>
				<choice>
					<statement>
						<p>
							To make the right-hand side equal to zero.
						</p>
					</statement>
					<feedback>
						<p>
							Incorrect. The right-hand side is transformed, but it does not become zero.
						</p>
					</feedback>
				</choice>
				<choice>
					<statement>
						<p>
							It makes the equation linear.
						</p>
					</statement>
					<feedback>
						<p>
							Incorrect. The equation already linear. Moreover, multiplying by any function of <m>x</m> will not change the equation's linearity.
						</p>
					</feedback>
				</choice>
			</choices>
		</task>

		<task label="chkpt-completing-the-product-rule-5"><title> <em>Final Form of the Equation</em> </title>
			<statement>
				<p>
					After rewriting the left-hand side as a derivative, what is the next step in solving the equation?
				</p>
			</statement>
			<choices>
				<choice>
					<statement>
						<p>
							Rearrange the terms to isolate <m>y</m> before integrating.
						</p>
					</statement>
					<feedback>
						<p>
							Incorrect. We first integrate both sides before solving for <m>y</m>.
						</p>
					</feedback>
				</choice>
				<choice>
					<statement>
						<p>
							Differentiate both sides again to simplify the expression.
						</p>
					</statement>
					<feedback>
						<p>
							Incorrect. Differentiation is not needed; we proceed with integration.
						</p>
					</feedback>
				</choice>
				<choice correct="yes">
					<statement>
						<p>
							Integrate both sides to find <m>y</m>.
						</p>
					</statement>
					<feedback>
						<p>
							Correct! Once the left-hand side is a single derivative, we integrate to solve for <m>y</m>.
						</p>
					</feedback>
				</choice>
				<choice>
					<statement>
						<p>
							Multiply by another integrating factor to further simplify.
						</p>
					</statement>
					<feedback>
						<p>
							Incorrect. A second integrating factor is unnecessary.
						</p>
					</feedback>
				</choice>
			</choices>
		</task>

		<task label="incomplete-product-rule-in-a-de-3"><title> <em>Select-the-Best-Answer</em> </title>
			<statement>
			
				<p>
					Given that you can multiply the equation 
				</p>
				
				<me>
					\frac{dy}{dx} + 6y = -1
				</me>

				<p>
					by the function <m>e^{6x}</m> to transform it into
				</p>

				<me>
					\frac{d}{dx}\left[e^{6x}y\right] = -e^{6x}
				</me>

				<p>
					What function would you think to multiply onto the equation
				</p>

				<me>
					\frac{dy}{dx} - 8y = 3x
				</me>

				<p>
					to accomplish the same goal?
				</p>
				
			</statement>
			<choices>
				<choice>
					<statement>
						<p>
							<m>\quad\ds e^{3x}</m>
						</p>
					</statement>
					<feedback>
						<p>
							Incorrect. Review the example carefully.
						</p>
					</feedback>
				</choice>
				<choice>
					<statement>
						<p>
							<m>\quad\ds e^{8x}</m>
						</p>
					</statement>
					<feedback>
						<p>
							Incorrect. Review the example carefully.
						</p>
					</feedback>
				</choice>
					<choice correct="yes">
					<statement>
						<p>
							<m>\quad\ds e^{-8x}</m>
						</p>
					</statement>
					<feedback>
						<p>
							That's correct! Multiplying by <m>e^{8x}</m> will allow you to complete the product rule on the left side of the equation.
						</p>
					</feedback>
				</choice>
				<choice>
					<statement>
						<p>
							<m>\quad\ds \frac38 x</m>
						</p>
					</statement>
					<feedback>
						<p>
							Incorrect. Review the example carefully.
						</p>
					</feedback>
				</choice>
			</choices>
		</task>

	</exercise>

	</paragraphs>

	<conclusion>

		<p>
			In sum, solving a differential equation using the integrating factor method is similar to solving a quadratic equation by 
			<q>completing the square</q>. In both cases, we strategically augment the equations by introducing a missing component 
			to rewrite it in a form that is easier to solve.
		</p>

		<p>
			In the next section, we will learn that this missing factor is known as the <term>integrating factor</term> and we will derive a general formula for finding it.
		</p>

	</conclusion>

</section>