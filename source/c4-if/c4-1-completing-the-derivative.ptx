<!-- LICENSING
  This file is part of the textbook "Exploring Differential Equations, An Interactive, Student-Centered Approach" by Geoffrey Cox.
  License: Creative Commons Attribution-ShareAlike 4.0 International (CC BY-SA 4.0)
  You are free to:
    ‚Ä¢ Share ‚Äî copy and redistribute the material in any medium or format.
    ‚Ä¢ Adapt ‚Äî remix, transform, and build upon the material for any purpose, even commercially.
  Under the following terms:
    ‚Ä¢ Attribution ‚Äî You must give appropriate credit, provide a link to the license, and indicate if changes were made.
    ‚Ä¢ ShareAlike ‚Äî If you remix, transform, or build upon the material, you must distribute your contributions under the same license.
  Full license text: https://creativecommons.org/licenses/by-sa/4.0/legalcode
  Recommended attribution: "Exploring Differential Equations" by Geoffrey Cox, licensed CC BY-SA 4.0"
-->
<section label="if-completing-derivative">
	<title>Completing the Product Rule</title>	

	<introduction>

		  <p>
			In algebra, a clever rearrangement of terms can make an equation easier to solve. For instance, consider the quadratic:
		</p>

		<me>
			x^2 + 10x + 25 = 0.
		</me>

		<p>
			Factoring the left-hand side gives:
		</p>

		<men xml:id="if-grouped-squared-eqn">
			(x + 5)^2 = 0.
		</men>

		<p>
			This grouping is helpful because taking the square root immediately reveals the solution.
		</p>

		<p>
			Some <term>first-order differential equations</term> benefit from a similar idea. Instead of forming a single perfect square, we aim to group the left-hand side as a <em>single derivative</em>.
		</p>

		<p>
			For example, take the equation:
		</p>

		<men xml:id="if-intro-incomplete-eqn">
			\frac{dy}{dx} + 2 y = 5
		</men>.

		<p>
			It can be rewritten as:
		</p>

		<men xml:id="if-intro-complete-eqn">
			\frac{d}{dx} [e^{2x} y] = 5e^{2x}
		</men>.

		<p>
			Just like factoring helped earlier, this new form makes solving easier, only now we integrate instead of take square roots.
		</p>

		<p>
			We'll call this process <q>completing the product rule</q>. It's based on reversing the product rule from calculus and serves as the foundation of the <term>integrating factor method</term>.
		</p>
	</introduction>

	<paragraphs label="product-rule-review">
		<title>The Product Rule, A Quick Review</title>

		<p>
			Before we reverse the product rule, let's make sure we remember how it works in the forward direction.
		</p>

		<p>
			In calculus, the <term>product rule</term> tells us how to take the derivative of two multiplied functions. If <m>f(x)</m> and <m>g(x)</m> are differentiable, then
		</p>

		<me>
			\frac{d}{dx} \left[ f(x) \cdot g(x) \right] = f(x) \cdot g'(x) + f'(x) \cdot g(x)
		</me>.

		<p>
			To refresh your memory of how it works, try the following practice problems.
		</p>

		<task label="chkpt-product-rule-review-1">
			<title><e component="emoji">üìñ‚ùì</e>  Remembering the Product Rule</title>

			<introduction>
				<p>
					Compute each of the derivatives below. Assume <m>y</m> is a function of <m>x</m>.
				</p>
				<me>
					1. \quad \left[x^6 e^{3x}\right]' \hspace{5em} 2. \quad \frac{d}{dx}\left[e^{x^3} y\right]
				</me>
			</introduction>
				
			<webwork xml:id="chkpt-product-rule-review-1-ww">
				<pg-code>
					Context()->variables->add(y => 'Real');
					Context()->variables->{namePattern} = qr/[a-z][a-z0-9_]*'*/i;
    				Context()->variables->add("y'"=>"Real");
					$f1 = Formula("x^6");	$g1 = Formula("e^{3x}");
					$df1 = $f1->D('x');		$dg1 = $g1->D('x');
					$f2 = Formula("e^{x^3}");	$g2 = Formula("y");
					$df2 = $f2->D('x');			$dg2 = Formula("y'");

					$ans1 = $f1 * $dg1 + $df1 * $g1;
					$ans2 = $f2 * $dg2 + $df2 * $g2;
				</pg-code>

				<statement>
					<p>
						<ol marker="1.">
							<li><m>\displaystyle\frac{d}{dx}\left[x^6 e^{3x}\right] = </m> <var name="$ans1" width="25" /></li>
							<li><m>\displaystyle\left[e^{x^3} y\right]' = </m> <var name="$ans2" width="25" /></li>
						</ol>
						Use <c>y'</c> for the derivative of <m>y</m> in question 2.
					</p>
				</statement>
			</webwork>

			<solution>
				<p>
					Using the product rule:
					<ol>
						<li>
							<me>
								\left[ x^6 e^{3x} \right]'
									= x^6 \cdot 3e^{3x} + 6x^5 \cdot e^{3x}
							</me>
						</li>
						<li>
							<me>
								\frac{d}{dx}\left[ e^{x^3} y(x) \right]
									= e^{x^3} \cdot y'(x) + 3x^2 e^{x^3} \cdot y(x)
							</me>
						</li>
					</ol>
				</p>
			</solution>

		</task>

	</paragraphs>

	<paragraphs label="product-rule-in-reverse">
		<title>The Product Rule in Reverse</title>

		<p>
			Now that we've recalled how the product rule works, let's try running it in reverse.
		</p>

		<p>
			Suppose you're given the expression:
		</p>

		<men xml:id="product-rule-in-reverse-eqn-1">
			\frac{1}{x} \sin x + \cos x \ln x
		</men>.

		<p>
			Can this be written as the derivative of a product? That is, can you find functions <m>f(x)</m> and <m>g(x)</m> so that
		</p>

		<me>
			\frac{d}{dx} \left[ f(x) g(x) \right] = \frac{1}{x} \sin x + \cos x \ln x?
		</me>

		<p>
			Here's a tip: the product rule always combines four pieces, two functions and their derivatives. If you can spot <m>f</m> and <m>g</m> in the terms, the rest should fall into place. In this case, trying <m>f(x) = \sin x</m> and <m>g(x) = \ln x</m> works out perfectly.
		</p>

		<p>
			Let's get some practice with this reverse thinking.
		</p>

		<example>
			<title>Basic Reverse Product Rule</title>
			
			<statement>
				<p>
					Rewrite each expression as a derivative of a product:
					<me>
						1. \quad e^{x}\cos x + e^{x}\sin x \hspace{5em} 2. \quad \frac{e^{x^2}}{x} + 2 x \ln x e^{x^2}
					</me>
				</p>
			</statement>

			<solution>
				<p>
					<solution>

						<p>
							First, select an <m>f</m> and <m>g</m> in different terms, like so
						</p>

						<p>
							<me>
								e^x\
								\underset{\Large f}{ \underset{\uparrow}{\ul{\vphantom{|}\cos x}}}
								+
								\underset{\Large g}{ \underset{\uparrow}{\ul{\vphantom{|}e^x}}}\
								\sin x
							</me>.
						</p>

						<p>
							For this to work, <m>f'</m> should be <m>\sin x</m>, next to our chosen <m>g</m>. However,
							<me>
								f' = [\cos x]' = -\sin x \ne \sin x \quad ‚ùå
							</me>
						</p>

						<p>
							So this labeling doesn't work and we instead try the labels
						</p>

						<p>
							<me>
								\underset{\Large f}{ \underset{\uparrow}{\ul{\vphantom{|}e^x}}}\
								\cos x
								+
								e^x\
								\underset{\Large g}{ \underset{\uparrow}{\ul{\vphantom{|}\sin x}}}
							</me>.
						</p>

						<p>
							Noting that <m>f' = [e^x]' = e^x</m> is next to <m>g</m> and <m>g' = [\sin x]' = \cos x</m> is next to <m>f</m> confirms this is a valid product rule. Therefore, we can reverse the product rule as
						</p>

						<me>
							e^x \cos x + e^x \sin x = [e^x \sin x]'
						</me>.


					</solution>

					<solution>

						<p>
							To make this easier, let's separate the terms as
							<me>
								\frac{1}{x} e^{x^2} + \ln x (2 x e^{x^2})
							</me>.
						</p>
						
						<p>
							So, as before, we first set <m>f</m> and <m>g</m>
						</p>

						<me>
							\frac{1}{x}\
							\underset{\Large f}{ \underset{\uparrow}{\ul{\vphantom{|}e^{x^2}}}}
							+
							\underset{\Large g}{ \underset{\uparrow}{\ul{\vphantom{|}\ln x}}}\
							2 x e^{x^2}
						</me>,

						<p>
							then verify the derivatives of <m>f</m> and <m>g</m> are in the other terms,
						</p>

						<me>
							f' = \left[e^{x^2}\right]' = 2 x e^{x^2} \quad ‚úÖ \qquad g' = \left[\ln x\right]' = \frac{1}{x} \quad ‚úÖ
						</me>.

						<p>
							Therefore,
						</p>

						<me>
							\frac{e^{x^2}}{x} + 2 x \ln x e^{x^2} = \left[e^{x^2} \ln x\right]'
						</me>.
					</solution>
				</p>
			</solution>
			
		</example>

		<p>
			Let's now try expressions involving a variable function, like <m>y(x)</m>. These are the ones we'll actually encounter when solving differential equations.
		</p>

		<example xml:id="reversed-product-rule-example">
			<title>Reversed Product Rule with a Variable</title>

			<statement>
				<p>
					Rewrite each expression in the form <m>[f(x) y(x)]'</m>.
					<me>
						1. \quad e^{9x}\frac{dy}{dx} + 9y e^{9x} \hspace{5em} 2. \quad e^{1/x}y' - \frac{e^{1/x}}{x^2}y
					</me>
				</p>
			</statement>

			<solution>
				<p>
					<solution>
						<p>
							Since <m>dy/dx</m> and <m>y</m> are in separate terms, setting <m>g</m> to <m>y</m> gives you <m>g'</m> and <m>f</m> for free since
						</p>

						<me>
							\underset{\Large f}{ \underset{\uparrow}{\ul{e^{9x}}}}\
							\underset{\Large g'}{ \underset{\uparrow}{\ul{\vphantom{|}\frac{dy}{dx}}}}
							+
							\underset{\Large g}{ \underset{\uparrow}{\ul{\vphantom{|}y}}}\
							(9 e^{9x})
						</me>.

						<p>
							The only thing you need to check is
							<me>
								f' = [e^{9x}]' = 9e^{9x} \quad ‚úÖ
							</me>
							which is sitting right next to <m>g</m>. Therefore, we have
						</p>

						<me>
							e^{9x}\frac{dy}{dx} + 9 e^{9x} y = \left[e^{9x} y\right]'
						</me>.

					</solution>

					<solution>

						<p>
							Again, set <m>g</m> to <m>y</m> and the rest fall into place as
						</p>

						<me>
							\underset{\Large f}{ \underset{\uparrow}{\ul{e^{1/x}}}}\
							\underset{\Large g'}{ \underset{\uparrow}{\ul{\vphantom{|}y'}}}
							+
							\left(-\frac{e^{1/x}}{x^2}\right)\
							\underset{\Large g}{ \underset{\uparrow}{\ul{\vphantom{|}y}}}
						</me>.

						<p>
							The only thing left to do is verify the derivative of <m>f</m>:
							<me>
								f' = \left[e^{1/x}\right]' = e^{1/x}\left[\frac{1}{x}\right]^\prime = e^{1/x}\left(-\frac{1}{x^2}\right) = -\frac{e^{1/x}}{x^2} \quad ‚úÖ
							</me>.
						</p>

						<p>
							So, we can reverse the product rule as
						</p>

						<me>
							e^{1/x}y' - \frac{e^{1/x}}{x^2}y = \left[e^{1/x} y\right]'
						</me>.

					</solution>
				</p>
			</solution>
			
		</example>

		<task label="chkpt-reversed-product-rule-2">
			<title><e component="emoji">üìñ‚ùì</e>  What's Missing in the Product Rule</title>
			<statement>
				<p>
					Fill in the missing parts of each product rule below.
				</p>
				<p>
					<m>\ds\frac{d}{dx}\left[x^2 \cos x\right] = </m>
					<m>x^2 \cdot</m> <var width="3px"/> <m>+</m> <var  width="3px"/> <m>\cdot \cos x</m>
				</p>
				<p>
					<m>\ds\frac{d}{dx}\big[e^{3x} </m> <var width="3px"/> <m>\big] = </m>
					<m>\ds\frac{1}{x} \cdot e^{3x} + </m> <var  width="3px"/> <m> e^{3x} \cdot \ln x </m>
				</p>
				<p>
					<m>\ds\frac{d}{dx}\big[ </m> <var width="3px"/> <m> \cdot </m> <var width="3px"/> <m>\big] = </m>
					<m>\ds\frac{dP}{dt} \cdot t + P </m>
				</p>
			</statement>
			<setup>
				<var>
					<condition string="\s*-\s*sin\s*\(?x\)?\s*">
						<feedback>
							<p>
								<line>Correct!</line>
							</p>
						</feedback>
					</condition>
					<condition string=".*">
						<feedback>
							<p>
								<line>Incorrect, try again.</line>
							</p>
						</feedback>
					</condition>
				</var>
				<var>
					<condition string="\s*2\s*\*\s*x\s*">
						<feedback>
							<p>
								<line>Correct!</line>
							</p>
						</feedback>
					</condition>
					<condition string=".*">
						<feedback>
							<p>
								<line>Incorrect, try again.</line>
							</p>
						</feedback>
					</condition>
				</var>
				<var>
					<condition string="\s*ln\s*\(?x\)?\s*">
						<feedback>
							<p>
								<line>Correct!</line>
							</p>
						</feedback>
					</condition>
					<condition string="\s*ln\s*">
						<feedback>
							<p>
								<line>Incorrect, expecting to see the independent variable <m>x</m>.</line>
							</p>
						</feedback>
					</condition>
					<condition string=".*log.*">
						<feedback>
							<p>
								<line>Incorrect, use the natural log instead.</line>
							</p>
						</feedback>
					</condition>
					<condition string=".*">
						<feedback>
							<p>
								<line>Incorrect, try again.</line>
							</p>
						</feedback>
					</condition>
				</var>
				<var>
					<condition number="3">
						<feedback>
							<p>
								<line>Correct!</line>
							</p>
						</feedback>
					</condition>
					<condition string=".*">
						<feedback>
							<p>
								<line>Incorrect, don't forget the chain rule.</line>
							</p>
						</feedback>
					</condition>
				</var>
				<var>
					<condition string="P">
						<feedback>
							<p>
								<line>Correct!</line>
							</p>
						</feedback>
					</condition>
					<condition string="t">
						<feedback>
							<p>
								<line>Put <m>t</m> in the other blank!</line>
							</p>
						</feedback>
					</condition>
					<condition string="p">
						<feedback>
							<p>
								<line>The variable should be a capitol <m>P</m>.</line>
							</p>
						</feedback>
					</condition>
					<condition string=".*">
						<feedback>
							<p>
								<line>Incorrect, try again.</line>
							</p>
						</feedback>
					</condition>
				</var>
				<var>
					<condition string="t">
						<feedback>
							<p>
								<line>Correct!</line>
							</p>
						</feedback>
					</condition>
					<condition string="P">
						<feedback>
							<p>
								<line>Put <m>P</m> in the other blank!</line>
							</p>
						</feedback>
					</condition>
					<condition string=".*">
						<feedback>
							<p>
								<line>Incorrect, try again.</line>
							</p>
						</feedback>
					</condition>
				</var>
			</setup>
		</task>

		<p>
			While reversing the product rule isn't a standard technique, practicing it a few times helps build the intuition you'll need when working with integrating factors.
		</p>
	</paragraphs>

	<!-- <paragraphs label="grouping-terms-in-a-derivative">
		<title>Grouping Terms in a Derivative</title>

		<p>
			We are now prepared to see how reversing the product rule helps solve a differential equation.
		</p>

		<p>
			Suppose you're given:
		</p>

		<me>
			\ub{e^{6x} \frac{dy}{dx} + 6e^{6x} y}_{\text{expanded product rule?}} = -e^{6x}
		</me>.

		<p>
			The left-hand side resembles the kind of expression we just rewrote using the product rule in reverse. In fact, we can group it as:
		</p>

		<me>
			\frac{d}{dx} \left[ e^{6x} y \right] = -e^{6x}
		</me>.

		<p>
			This form is much easier to work with since we can integrate both sides to solve for <m>y</m>. Let's walk through that process in a full example.
		</p>

		<example xml:id="reversing-the-product-rule-example">
			<title>Reverse the Product Rule and Integrate</title>
			<statement>
			<p>
				Show that the differential equation
				<men xml:id="reverse-product-rule-DE">
				e^{6x} \frac{dy}{dx} + 6e^{6x} y = -e^{6x}
				</men>
				can be rewritten as
				<men xml:id="reverse-product-rule-DE-solution">
				\frac{d}{dx} [ e^{6x} y ] = -e^{6x}
				</men>.
				Then solve by integrating both sides.
			</p>
			</statement>

			<solution>
			<p>
				The left-hand side looks like a product rule. Since <m>y</m> and <m>\frac{dy}{dx}</m> appear separately, try setting <m>g = y</m>. That gives:
			</p>

			<me>
				\underset{\Large f}{ \underset{\uparrow}{\ul{e^{6x}}}}\
				\underset{\Large g'}{ \underset{\uparrow}{\ul{\vphantom{|}\frac{dy}{dx}}}} +
				(6e^{6x})
				\underset{\Large g}{ \underset{\uparrow}{\ul{\vphantom{|}y}}}
			</me>

			<p>
				Since <m>f' = [e^{6x}]' = 6e^{6x}</m>, the left-hand side is a complete derivative:
			</p>

			<me>
				\frac{d}{dx} \left[ e^{6x} y \right] = -e^{6x}
			</me>

			<p>
				Now integrate both sides:
			</p>

			<md>
				<mrow> \int \frac{d}{dx} \left[ e^{6x} y \right]\, dx \amp = \int -e^{6x}\, dx </mrow>
				<mrow> e^{6x} y \amp = -\frac{1}{6} e^{6x} + c </mrow>
				<mrow> y \amp = -\frac{1}{6} + c e^{-6x} </mrow>
			</md>

			</solution>
		</example>

		<p>
			This example shows the power of writing one side of the equation as a single derivative. But not all equations are this convenient. Often, we need to tweak the equation first, just like we sometimes "complete the square" in algebra to get a factored form. We'll explore that idea next.
		</p>



	</paragraphs> -->

	<paragraphs label="completing-derivative-analogy-method">
		<title>Completing the Product Rule: An Analogy and a Method</title>

		<p>
			Completing the square is a classic strategy from algebra: by adding just the right constant, we can turn a messy quadratic into something easily solvable.
		</p>

		<p>
			For example, to solve
		</p>

		<me>
			\os{\large\text{incomplete square}}{\qquad \ob{\ x^2 + 6x\ } = -1}
		</me>,

		<p>
			we complete the square by adding <m>9</m> (since <m>(6/2)^2 = 9</m>) to both sides:
		</p>

		<me>
			\ub{x^2 + 6x + 9}_{\large\text{complete square}} = -1 + 9
		</me>,

		<p>
			which gives a perfect square:
		</p>

		<me>
			(x + 3)^2 = 8,
		</me>

		<p>
			and from here we solve by taking square roots. Simple and neat.
		</p>

		<task label="chkpt-completing-derivative-analogy-method-1">
			<title><e component="emoji">üìñ‚ùì</e>  Purpose of Adding <m>9</m></title>
			<statement>
				<p>
					In the analogy, what role does the number <m>9</m> play in the quadratic equation?
				</p>
			</statement>
			<choices randomize="yes">
				<choice correct="yes">
					<statement>
						<p>
							The missing piece that allows the quadratic expression to be rewritten as a perfect square.
						</p>
					</statement>
					<feedback>
						<p>
							Correct! The number 9 completes the square, making it factorable.
						</p>
					</feedback>
				</choice>
				<choice>
					<statement>
						<p>
							The solution to the quadratic equation.
						</p>
					</statement>
					<feedback>
						<p>
							Incorrect. The number 9 is introduced to complete the square, not as a solution.
						</p>
					</feedback>
				</choice>
				<choice>
					<statement>
						<p>
							The coefficient of the linear term.
						</p>
					</statement>
					<feedback>
						<p>
							Incorrect. The coefficient of the linear term in the quadratic equation is 6, not 9.
						</p>
					</feedback>
				</choice>
				<choice>
					<statement>
						<p>
							A randomly chosen constant added to balance the equation.
						</p>
					</statement>
					<feedback>
						<p>
							Incorrect. The number 9 is carefully selected to form a perfect square trinomial.
						</p>
					</feedback>
				</choice>
			</choices>
		</task>

		<p>
			Now let's look at a differential equation that behaves almost exactly the same way:
		</p>

		<me>
			\os{\large\text{incomplete product rule}}{\qquad \ob{\ \frac{dy}{dx} + 6 y\ } = -1}
		</me>.

		<p>
			The left-hand side looks like it <em>wants</em> to be the result of a product rule. And it could be, if we multiply both sides by <m>e^{6x}</m>:
		</p>

		<me>
			\ub{e^{6x} \frac{dy}{dx} + 6e^{6x} y}_{\large\text{complete product rule}} = -e^{6x}
		</me>.

		<p>
			That multiplication <q>completes the product rule</q> the same way adding <m>9</m> completed the square. Now, the left-hand side is exactly:
		</p>

		<me>
			\frac{d}{dx} \left[ e^{6x} y \right] = -e^{6x}.
		</me>

		<task label="chkpt-completing-derivative-analogy-method-2">
			<title><e component="emoji">üìñ‚ùì</e>  Purpose of Multiply <m>e^{6x}</m></title>
			<statement>
				<p>
					Why do we multiply both sides of
					<me>
						\frac{dy}{dx} + 6y = -1
					</me>
					by <m>e^{6x}</m>?
				</p>
			</statement>
			<choices randomize="yes">
				<choice correct="yes">
					<statement>
						<p>
							To complete a product rule within this equation.
						</p>
					</statement>
					<feedback>
						<p>
							Correct! Multiplying by <m>e^{6x}</m> allows us to rewrite the left-hand side as a perfect derivative.
						</p>
					</feedback>
				</choice>
				<choice>
					<statement>
						<p>
							To eliminate the derivative term entirely.
						</p>
					</statement>
					<feedback>
						<p>
							Incorrect. The goal is not to eliminate the derivative, but to structure the equation so it can be integrated directly.
						</p>
					</feedback>
				</choice>
				<choice>
					<statement>
						<p>
							To make the right-hand side equal to zero.
						</p>
					</statement>
					<feedback>
						<p>
							Incorrect. The right-hand side is transformed, but it does not become zero.
						</p>
					</feedback>
				</choice>
				<choice>
					<statement>
						<p>
							It makes the equation linear.
						</p>
					</statement>
					<feedback>
						<p>
							Incorrect. The equation already linear. Moreover, multiplying by any function of <m>x</m> will not change the equation's linearity.
						</p>
					</feedback>
				</choice>
			</choices>
		</task>

		<p>
			And just like we took a square root to solve a completed square, here we integrate both sides to solve a completed product rule:
		</p>

		<md>
			<mrow> \int \frac{d}{dx}\left[ e^{6x} y \right]\, dx \amp = \int -e^{6x}\, dx </mrow>
			<mrow> e^{6x} y \amp = -\frac{1}{6} e^{6x} + c </mrow>
			<mrow> y \amp = -\frac{1}{6} + c e^{-6x} </mrow>
		</md>

		<p>
			So what's the big idea here? Just as completing the square gives us a clean square to work with, completing the product rule gives us a clean product rule, one we can reverse and integrate.
		</p>

		<identity label="analogy-summary">
			<title>Completing the Square vs Completing the Product Rule</title>
			<statement>
				<p>
					Here's how the two processes line up:
					<tabular halign="center">
						<col right="minor"/>
						<col right="minor"/>
						<row bottom="minor">
							<cell/>
							<cell>Completing the Square</cell>
							<cell>Completing the Product Rule</cell>
						</row>
						<row><cell>Goal</cell> <cell>Solve for <m>x</m></cell> <cell>Solve for <m>y</m></cell></row>
						<row><cell>Equation</cell> <cell><m>x^2 + 6x = -1</m></cell> <cell><m>\frac{dy}{dx} + 6y = -1</m></cell></row>
						<row>
							<cell>Missing Piece</cell>
							<cell><m>9</m> (added)</cell>
							<cell><m>e^{6x}</m> (multiplied)</cell>
						</row>
						<row>
							<cell>Completed Form</cell>
							<cell><m>x^2 + 6x + 9 = 8</m></cell>
							<cell><m>e^{6x} \frac{dy}{dx} + 6e^{6x} y = -e^{6x}</m></cell>
						</row>
						<row>
							<cell>Grouped Form</cell>
							<cell><m>(x + 3)^2 = 8</m></cell>
							<cell><m>\frac{d}{dx} [e^{6x} y] = -e^{6x}</m></cell>
						</row>
						<row>
							<cell>Solution Step</cell>
							<cell>Take square root</cell>
							<cell>Integrate</cell>
						</row>
					</tabular>
				</p>
			</statement>
		</identity>

		<p>
			This technique, multiplying by the right function to complete the product rule, is the heart of the <term>integrating factor method</term>. And it raises an important question:
		</p>

		<p>
			<em>How do we know what function to multiply by?</em>
		</p>

		<p>
			That's what we'll figure out in the next section.
		</p>

	</paragraphs>

	<objectives label="if-completing-derivative-wrapup">
		<ul marker="square">
			<li>
				<aside component="web"><title>üéß Listen</title><p><audio component="readings" source="audio/readings/c1/template.mp3" width="100%" /></p></aside>
				Completing the square transforms a quadratic into a perfect square to make it easier to solve.
			</li>
			<li>
				A similar idea applies to differential equations: we can <q>complete the product rule</q> by multiplying both sides of the equation by a carefully chosen function.</li>
			<li>
				This multiplication turns the left-hand side into the derivative of a product, making the equation easier to solve through direct integration.
			</li>
			<li>
				Completing the product rule is conceptually similar to completing the square, both introduce a missing piece that simplifies the structure of the equation.
			</li>
			<li>
				This technique is the core of the integrating factor method, which is used to solve first-order linear differential equations.
			</li>
			<li>
				The big question now is: how do we systematically choose the right function to multiply by? That's the focus of the next section.
			</li>
		</ul>
	</objectives>

	<fact label="if-completing-derivative-cyu">
		<statement>
			<p>
				Answer the following questions:
				<task label="cyu-if-completing-derivative-1">
					<title>Recognizing an Incomplete Product Rule</title>
					<statement>
						<p>
							Why do we say the differential equation
							<me>
								\frac{dy}{dx} + 6y = -1
							</me>
							contains an incomplete product rule?
						</p>
					</statement>
					<choices randomize="yes">
						<choice correct="yes">
							<statement>
								<p>
									It lacks a function needed to reverse a product rule.
								</p>
							</statement>
							<feedback>
								<p>
									Correct! The equation is missing an essential function that would allow it to be rewritten using the product rule.
								</p>
							</feedback>
						</choice>
						<choice>
							<statement>
								<p>
									Because we haven't used the product rule yet.
								</p>
							</statement>
							<feedback>
								<p>
									Incorrect. The issue is not that the product rule hasn't been applied, but that the equation is not structured as a product rule.
								</p>
							</feedback>
						</choice>
						<choice>
							<statement>
								<p>
									It has a free term of <m>-1</m>.
								</p>
							</statement>
							<feedback>
								<p>
									Incorrect. While the free term is <m>-1</m>, the issue is related to the structure of the left-hand side.
								</p>
							</feedback>
						</choice>
						<choice>
							<statement>
								<p>
									It is not in standard form.
								</p>
							</statement>
							<feedback>
								<p>
									Incorrect. The equation actually is in standard form.
								</p>
							</feedback>
						</choice>
					</choices>
				</task>
			
				<task label="cyu-if-completing-derivative-2">
					<title>Equivalent Equations</title>
					<statement>
						<p>
							The differential equation,
						</p>

						<me>
							\frac{dQ}{dz}\ln z + \frac{Q}{z} = \tan\left(z^2\right)
						</me>

						<p>
							is equivalent to which of the following equations? <em>Hint: use the forward product rule in the answer choices.</em>
						</p>
					</statement>
					<choices randomize="yes">
						<choice>
							<statement>
								<m>\quad\ds\frac{d}{dz} \left[ Q z \right] = \tan\left(z^2\right)</m>
							</statement>
							<feedback>
								<p>
									Incorrect. This equation does not account for the logarithmic term in the original differential equation.
								</p>
							</feedback>
						</choice>
						<choice>
							<statement>
								<m>\quad\ds\frac{dQ}{dz} = \tan\left(z^2\right)</m>
							</statement>
							<feedback>
								<p>
									Incorrect. This equation does not account for the logarithmic term in the original differential equation.
								</p>
							</feedback>
						</choice>
						<choice correct="yes">
							<statement>
								<m>\quad\ds\frac{d}{dz} \left[ Q \ln z \right] = \tan\left(z^2\right)</m>
							</statement>
							<feedback>
								<p>
									Correct! Applying the product rule to the left side of the equation yields the original differential equation.
								</p>
							</feedback>
						</choice>
						<choice>
							<statement>
								<m>\quad\ds\frac{d}{dz} \left[ \frac{Q}{z} \right] = \tan\left(z^2\right)</m>
							</statement>
							<feedback>
								<p>
									Incorrect. This equation does not account for the logarithmic term in the original differential equation.
								</p>
							</feedback>
						</choice>
					</choices>
				</task>

				<task label="cyu-if-completing-derivative-3">
					<title>Goal of Completing the Product Rule</title>
					<statement>
						<p>
							How does reversing the product rule help solve this equation?
							<me>
								\frac{dy}{dx} \cdot e^{5x^2} + 10x e^{5x^2} \cdot y = 3x
							</me>.
						</p>
					</statement>
					<choices randomize="yes">
						<choice correct="yes">
							<statement>It groups terms on one side of the equation into a single derivative.</statement>
							<feedback>Correct! The product rule combines terms on the left side of the equation into a single derivative.</feedback>
						</choice>
						<choice>
							<statement>It computes the derivative of a product of two functions.</statement>
							<feedback>Incorrect. In this situation, the product rule is not used to take a derivative of a product of two functions.</feedback>
						</choice>
						<choice>
							<statement>It solves the differential equation directly.</statement>
							<feedback>Incorrect. The product rule can help solve some differential equations, but it does not solve them alone.</feedback>
						</choice>
						<choice correct="yes">
							<statement>It allows it to be easily solved by direct integration.</statement>
							<feedback>Correct! Recognizing a perfect derivative lets us solve the equation by integration.</feedback>
						</choice>
						<choice>
							<statement>It converts a nonlinear equation into a linear one.</statement>
							<feedback>Incorrect. The equation is already linear; reversing the product rule does not change its nature.</feedback>
						</choice>
					</choices>
				</task>

				<task label="cyu-if-completing-derivative-4">
					<title>Seeing the Pattern</title>
					<statement>
					
						<p>
							Given that you can multiply the equation 
						</p>
						
						<me>
							\frac{dy}{dx} + 6y = -1
						</me>

						<p>
							by the function <m>e^{6x}</m> to transform it into
						</p>

						<me>
							\frac{d}{dx}\left[e^{6x}y\right] = -e^{6x}
						</me>

						<p>
							What function would you think to multiply onto the equation
						</p>

						<me>
							\frac{dy}{dx} - 8y = 3x
						</me>

						<p>
							to accomplish the same goal?
						</p>
						
					</statement>
					<choices randomize="yes">
						<choice>
							<statement>
								<p>
									<m>\quad\ds e^{3x}</m>
								</p>
							</statement>
							<feedback>
								<p>
									Incorrect. Review the example carefully.
								</p>
							</feedback>
						</choice>
						<choice>
							<statement>
								<p>
									<m>\quad\ds e^{8x}</m>
								</p>
							</statement>
							<feedback>
								<p>
									Incorrect. Review the example carefully.
								</p>
							</feedback>
						</choice>
							<choice correct="yes">
							<statement>
								<p>
									<m>\quad\ds e^{-8x}</m>
								</p>
							</statement>
							<feedback>
								<p>
									That's correct! Multiplying by <m>e^{8x}</m> will allow you to complete the product rule on the left side of the equation.
								</p>
							</feedback>
						</choice>
						<choice>
							<statement>
								<p>
									<m>\quad\ds \frac38 x</m>
								</p>
							</statement>
							<feedback>
								<p>
									Incorrect. Review the example carefully.
								</p>
							</feedback>
						</choice>
					</choices>
				</task>
			</p>
		</statement>
	</fact>

</section>