<!-- LICENSING
  This file is part of the textbook "Exploring Differential Equations, An Interactive, Student-Centered Approach" by Geoffrey Cox.
  License: Creative Commons Attribution-ShareAlike 4.0 International (CC BY-SA 4.0)
  You are free to:
    ‚Ä¢ Share ‚Äî copy and redistribute the material in any medium or format.
    ‚Ä¢ Adapt ‚Äî remix, transform, and build upon the material for any purpose, even commercially.
  Under the following terms:
    ‚Ä¢ Attribution ‚Äî You must give appropriate credit, provide a link to the license, and indicate if changes were made.
    ‚Ä¢ ShareAlike ‚Äî If you remix, transform, or build upon the material, you must distribute your contributions under the same license.
  Full license text: https://creativecommons.org/licenses/by-sa/4.0/legalcode
  Recommended attribution: "Exploring Differential Equations" by Geoffrey Cox, licensed CC BY-SA 4.0"
-->
<section label="sec-sov-considerations">
	<title>Implicit General Solutions</title>

	<paragraphs label="sov-method-examples-implicit">
		<title>Implicit Solutions</title>

		<p>
			Sometimes, after integration, it may not be possible or practical to isolate <m>y</m> explicitly. Solutions presented in such forms are known as <em>implicit solutions</em>. Although they don't isolate one variable completely, implicit solutions still provide a complete description of the relationship between variables. Let's look at a few examples demonstrating how to handle these situations clearly.
		</p>

		<example label="sov-method-implicit-solution">
			<title>An Implicit Solution</title>
			<statement>
				<p>
					Solve the initial-value problem
					<me>
						Q Q' + e^Q Q' = t, \quad Q(2) = 0
					</me>
				</p>
			</statement>

			<solution>
				<p>
					Notice the equation already separates naturally once we factor out <m>Q'</m>:
					<me>
						(Q + e^Q)Q' = t \quad\Rightarrow\quad (Q + e^Q)\frac{dQ}{dt} = t
					</me>.
				</p>

				<sidebyside widths="75% 25%" valign="middle">
					<p><me>(Q + e^Q)\ dQ = t\ dt</me></p>
					<p>Separate variables</p>
				</sidebyside>

				<sidebyside widths="75% 25%" valign="middle">
					<p><me>\int(Q + e^Q)\ dQ = \int t\ dt</me></p>
					<p>Integrate</p>
				</sidebyside>

				<sidebyside widths="75% 25%" valign="middle">
					<p>
						<md>
							<mrow>\frac{Q^2}{2} + e^Q \amp = \frac{t^2}{2} + c_1</mrow>
							<mrow>Q^2 + 2e^Q \amp = t^2 + c,\quad c=2c_1</mrow>
						</md>
					</p>
					<p>Combine constants</p>
				</sidebyside>

				<p>
					The general implicit solution is:
					<me>Q^2 + 2e^Q = t^2 + c.</me>
				</p>

				<p>
					Although we can't isolate <m>Q</m> neatly, we can still find the particular constant using the initial condition <m>Q(2) = 0</m>. Substitute <m>t=2</m> and <m>Q=0</m>:
					<md>
						<mrow>(0)^2 + 2e^0 \amp = 2^2 + c</mrow>
						<mrow>2 \amp = 4 + c \quad\Rightarrow\quad c=-2.</mrow>
					</md>
				</p>

				<p>
					Thus, the particular implicit solution is:
					<me>Q^2 + 2e^Q = t^2 - 2.</me>
				</p>
			</solution>
		</example>

		<exercise label="chkpt-sov-method-examples-implicit-1">
			<title><e component="emoji">üìñ‚ùì</e> Select the Implicit Solutions</title>
			<statement/>
			<areas>
				<p>
					Let <m>y</m> be a function of the independent variable, <m>t</m>, and <m>c</m> is an integration constant. If each expression below is a general solution to some DE, Click on the <em>implicit solutions</em>.
				</p>
				<sidebyside widths="40% 40%" valign="middle" margins="10% 10%">
					<p>
						<area correct="yes"> <m>\ds y = t\tan(t) + c </m></area>
					</p>
					<p>
						<area correct="no"> <m>\ds y^2 + \ln y = t + c </m></area>
					</p>
				</sidebyside>
				<p/>
				<sidebyside widths="40% 40%" valign="middle" margins="10% 10%">
					<p>
						<area correct="no"> <m>\ds y = t + \cos(y) </m></area>
					</p>
					<p>
						<area correct="yes"> <m>\ds y = \sqrt{\sin(t^2+25)} </m></area>
					</p>
				</sidebyside>
				<p/>
			</areas>
		</exercise>
	</paragraphs>

	<paragraphs label="sov-method-examples-absolute-values">
		<title>Absolute Values in General Solutions</title>

		<exercise label="chkpt-sov-method-examples-absolute-values-1">
			<title><e component="emoji">üìñ‚ùì</e> Solutions to an Equation with an Absolute Value</title>
			<statement>
				<p>
					Select the solutions to the equation
					<me>
						|x| = 14
					</me>.
				</p>
			</statement>

			<choices randomize="yes">
				<choice correct="yes">
					<statement><m>14</m></statement>
					<feedback>If you plug <m>14</m> into the equation, do you get a true statement?</feedback>
				</choice>
				<choice correct="yes">
					<statement><m>-14</m></statement>
					<feedback>If you plug <m>-14</m> into the equation, do you get a true statement?</feedback>
				</choice>
				<choice correct="no">
					<statement><m>7</m></statement>
					<feedback>If you plug <m>7</m> into the equation, do you get a true statement?</feedback>
				</choice>
				<choice correct="no">
					<statement><m>1</m></statement>
					<feedback>If you plug <m>1</m> into the equation, do you get a true statement?</feedback>
				</choice>
				<choice correct="no">
					<statement><m>0</m></statement>
					<feedback>If you plug <m>0</m> into the equation, do you get a true statement?</feedback>
				</choice>
			</choices>
		</exercise>

		<p>
			When solving differential equations, it's common to encounter absolute values, particularly when integrating expressions involving the natural logarithm. For instance, you might arrive at a step like:
			<men xml:id="sov-abs-value-eqn">
				|y| = e^{\sin(x) + c}.
			</men>
		</p>

		<p>
			To isolate <m>y</m> fully, you need to carefully address the absolute value. This is typically handled by rewriting the equation as:
			<men xml:id="sov-abs-value-eqn-solution">
				y = \pm e^{\sin(x) + c}.
			</men>
			But why introduce the <m>\pm</m>? Think about a simpler example:
			<me>|y| = 5.</me>
			Clearly, this equation has two possible solutions: <m>y=5</m> and <m>y=-5</m>. The same logic gives the possible solutions to equation <xref ref="sov-abs-value-eqn"/>:
			<me>
				y = e^{\sin(x) + c} \quad\text{and}\quad y = -e^{\sin(x) + c}.
			</me>
			We use <m>\pm</m> as a shorthand in equation <xref ref="sov-abs-value-eqn-solution"/> to represent both solutions.
		</p>

		<example>
			<title>Absolute Value from Algebra</title>
			<statement>
				<p>
					Find the general solution to the differential equation
					<me>
						x\frac{dy}{dx} + 10x^2y = 6x^2
					</me>
				</p>
			</statement>

			<solution>
				<p>
					Start by checking that the equation is separable. First, simplify the given equation:
					<md>
						<mrow>x\frac{dy}{dx} + 10x^2y \amp= 6x^2</mrow>
						<mrow>\frac{dy}{dx} + 10xy \amp= 6x</mrow>
						<mrow>\frac{dy}{dx} \amp= 6x - 10xy = 2x(3 - 5y).</mrow>
					</md>
					Now, we apply the separation of variables method.
				</p>

				<sidebyside widths="65% 25%" valign="middle" margins="10% 0%">
					<p><me> \frac{1}{3 - 5y}dy = 2x\ dx </me></p>
					<p>Separate variables</p>
				</sidebyside>

				<sidebyside widths="20% 35% 15% 25%" valign="middle" margins="5% 0%">
					<p>
						<me>
							\left.
							\begin{array}{c}
								u = 3-5y\\
								du = -5dx
							\end{array}
							\right| \rightarrow
						</me>
					</p>
					<p><me>\int \frac{1}{3 - 5y}dy = \int 2x\ dx</me></p>
					<p/>
					<p>Integrate</p>
				</sidebyside>

				<sidebyside widths="55% 25%" valign="middle" margins="20% 0%">
					<p>
						<md>
							<mrow> \ln|3 - 5y|	\amp = x^2 + c_1 </mrow>
							<mrow> |3 - 5y|		\amp = e^{x^2 + c_1} </mrow>
						</md>
					</p>
					<p>Isolate up to <m>|3 - 5y|</m></p>
				</sidebyside>

				<p>
					Here is where we resolve the absolute value by converting it to <m>\pm</m>, then absorbing the <m>\pm</m> into the integration constant. This is ok since multiplying a constant by <m>\pm 1</m> just creates another constant.
				</p>

				<sidebyside widths="55% 25%" valign="middle" margins="20% 0%">
					<p>
						<md>
							<mrow> 3 - 5y	\amp = \pm e^{x^2 + c_1} </mrow>
							<mrow> 3 - 5y	\amp= c_2 e^{x^2},\quad c_2=\pm e^{c_1} </mrow>
						</md>
					</p>
					<p>
						<line>Introduce <m>\pm</m></line>
						<line>&amp; absorb it into <m>c_2</m></line>
					</p>
				</sidebyside>

				<p>
					We are now ready to solve explicitly for <m>y</m>:
				</p>

				<sidebyside widths="55% 25%" valign="middle" margins="20% 0%">
					<p>
						<md>
							<mrow>5y = 3 - c_2 e^{x^2} \amp</mrow>
							<mrow>\boxed{\ y = c\,e^{x^2} + \frac{3}{5}\ }\amp , \quad c=-\frac{c_2}{5}.</mrow>
						</md>
					</p>
					<p>
						<line>Isolate <m>y</m> &amp;</line>
						<line>combine</line>
						<line>constants</line>
					</p>
				</sidebyside>
			</solution>
		</example>

		<example label="implicit-solution-with-initial-condition">
			<title><q><m>\pm</m></q> in the Solution</title>

			<statement>
				<p>
					Using separation of variables, solve the differential equation
				</p>

				<me>
					\frac{dy}{dx} = \frac{\cos x}{y}, 	\quad y(0) = -5
				</me>.
			</statement>

			<solution>
				<p>
					The given equation is clearly separable, as we can rewrite it in product form:
					<me>\frac{dy}{dx} = (\cos x)\cdot\frac{1}{y}.</me>
				</p>

				<sidebyside widths="75% 25%" valign="middle">
					<p><me>y\ dy = \cos(x)\ dx</me></p>
					<p>Separate variables</p>
				</sidebyside>

				<sidebyside widths="75% 25%" valign="middle">
					<p><me>\int y\ dy = \int \cos(x)\ dx</me></p>
					<p>Integrate</p>
				</sidebyside>

				<sidebyside widths="75% 25%" valign="middle">
					<p>
						<md>
							<mrow>\frac{y^2}{2} \amp = \sin(x) + c_1</mrow>
							<mrow>y^2 \amp = 2\sin(x) + c,\quad c=2c_1</mrow>
						</md>
					</p>
					<p>Combine constants</p>
				</sidebyside>

				<p>
					This yields the implicit general solution:
					<me>y^2 = 2\sin(x) + c.</me>
				</p>

				<p>
					Before explicitly solving for <m>y</m>, it's simpler to use the initial condition <m>y(0) = -5</m> to find the constant <m>c</m> first:
					<md>
						<mrow>(-5)^2 = 2\sin(0) + c \amp\Rightarrow 25 = c.</mrow>
					</md>
				</p>

				<p>
					Thus, the implicit particular solution is:
					<me>y^2 = 2\sin(x) + 25.</me>
				</p>

				<p>
					Solving explicitly for <m>y</m>, we introduce a <m>\pm</m>:
					<me>y(x) = \pm\sqrt{2\sin(x) + 25}.</me>
				</p>

				<p>
					To determine the correct sign, apply the initial condition again:
					<me>y(0) = \pm\sqrt{2\sin(0) + 25} = \pm5.</me>
					Since we know <m>y(0)=-5</m>, the solution must take the negative branch:
					<me>\boxed{\ y(x) = -\sqrt{2\sin(x) + 25}\ }.</me>
				</p>
			</solution>
		</example>

		<p>
			The separation of variables method is a flexible and powerful tool for solving a wide range of differential equations, including nonlinear ones. As you've seen, the method is systematic: separate, integrate, and isolate. While the mechanics of the method are straightforward, the complexity often lies in the algebraic manipulation and integration.
		</p>
	</paragraphs>
	
	<exercise label="number-g">
  	<title><e component="emoji">üìñ‚ùì</e> Reorder the Solution</title>

		<statement>
			<p>
				Reorder the scrambled steps used to solve <me>\frac{dq}{dt} - 3qt^2 = 2q</me> using the <xref ref="sov-method" text="title"/> method.
			</p>
		</statement>

		<blocks>
			<block order="1">
				<p>
					Equation is 1st-order ‚úÖ
				</p>
			</block>
			<block order="2">
				<p>
					<m>\dfrac{dq}{dt} = q(2 + 3t^2)</m>
				</p>
			</block>
			<block order="3">
				<p>
					<m>\dfrac{1}{q}\ dq = (2 + 3t^2)\ dt</m>
				</p>
			</block>
			<block order="4">
				<p>
					<m>\ds\int \frac{1}{q} dq = \int (2 + 3t^2) dt</m>
				</p>
			</block>
			<block order="5">
				<p>
					<line><m>\ln|q| = 2t^2 + t^3 + c</m></line>
				</p>
			</block>
			<block order="6">
				<p>
					<line><m>|q| = e\vphantom{|}^{\large 2t^2 + t^3 + c}</m></line>
				</p>
			</block>
			<block order="7">
				<p>
					<line><m>q = \pm e^c e\vphantom{|}^{\large 2t^2 + t^3}</m></line>
				</p>
			</block>
			<block order="8">
				<p>
					<line><m>q = c e\vphantom{|}^{\large 2t^2 + t^3}</m></line>
				</p>
			</block>
		</blocks>

	</exercise>
</section>