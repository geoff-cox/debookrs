<section label="unit-step-functions">
    <title> Unit Step Function Variants </title>

    <introduction>
        <p>
            The basic unit step <m>u(t)</m> switches a function on at <m>t=0</m>. But what if you need the switch to flip later, flip off, or even turn on for just a short while?  
            This subsection introduces three key variants:
        </p>
        <ul marker="disc">
            <li><m>u_c(t)</m> ‚Äî switches ON at a chosen time <m>c</m>.</li>
            <li><m>1 - u_c(t)</m> ‚Äî switches OFF at time <m>c</m>.</li>
            <li><m>u_c(t) - u_d(t)</m> ‚Äî switches ON for a window from <m>c</m> to <m>d</m>.</li>
        </ul>
        <p>
            Together, these act like a complete toolkit for modeling stepwise ON/OFF behavior in real systems.
        </p>
    </introduction>

    <subsection label="shifted-step">
        <title> Shifted Unit Step Function </title>

		<exercise><title> Prep-Questions </title>
			<task label="prep-true-false-shift">
				<title> üìñ‚ùìTrue or False: Shifting a Function </title>
				<statement correct="yes">
					<p>
						The graph of <m>\cos(t - 3)</m> is the same as the graph of <m>\cos(t)\ </m> shifted right <m>3</m> units.
					</p>
				</statement>
				<feedback>
					<p>
						Replacing <m>t</m> with <m>t - 3</m> in shifts the graph of ANY function 3 units to the right, not just <m>\cos(t)</m>.
					</p>
				</feedback>
			</task>

			<task label="prep-fillin-shifted-step">
				<title> üìñ‚ùìWhen Does It Switch? </title>
				<statement>
					<p>
						The unit step function <m>u(t - 6)</m> jumps from <m>0</m> (OFF) to <m>1</m> (ON) at 
						<m>t =</m> <fillin width="2" mode="string" answer="6" />.		
					</p>
				</statement>
				<evaluation>
					<evaluate><test><strcmp use-answer="yes" /></test></evaluate>
				</evaluation>
			</task>
		</exercise>

        <p>
            Sometimes you need the step to turn ON at a different time. The <term>shifted unit step function</term>, written <m>u_c(t)</m>, is simply the basic step shifted right (if <m>c \gt 0</m>) or left (if <m>c \lt 0</m>):
        </p>

        <assemblage xml:id="def-shifted-unit-step">
            <title> üìú Shifted Unit Step Function </title>
            <p>
				<sidebyside widths="67% 1% 30%" valign="middle" margins="1% 1%">
					<p>
						<me>
							u_c(t) = u(t - c) = 
							\left\{
							\begin{array}{ll}
								1, \amp t \ge c \\
								0, \amp t \lt c
							\end{array}
							\right.
						</me>
						Before <m>t=c</m>, <m>u_c(t)</m> is OFF; after <m>t=c</m>, it turns ON.<fn><m>u_c(t)</m> is not a new function, it is just the shorthand for a shifted version of <m>u(t)</m>.</fn>
					</p>
					<p/>
					<p>
						<image>
							<latex-image>
								\begin{tikzpicture}[samples=100, scale=0.45]
									% === colors ===
									\def\OFColor{blue}				\def\OFFill{\OFColor!15}
									\def\ONColor{green!60!black}	\def\ONFill{\ONColor!15}

									% === figure/domain/tick bounds ===
									\def\tmin{-3.5}	\def\tmax{4.5}
									\def\ymin{-1}	\def\ymax{1.8}
									\def\tticks{-2, -1, 1, 2, 3, 4}
									\def\yticks{1}
								
									% === Transitions ===
									\def\c{1.5}
									\fill[\OFFill]				(\tmin	, \ymin) rectangle (\c		, \ymax);
									\fill[\ONFill]				(\c		, \ymin) rectangle (\tmax	, \ymax);
									\node[font=\small, below] at ({\c}, -0.1) {$c$};
									
									% === Midpoints ===
									\def\Lmid{{(\tmin + \c)*0.5-0.7}}
									\def\Rmid{{(\c + \tmax)*0.5}}

									% === Function definitions ===
									\newcommand{\uL}[1]{0}	\def\uLtex{0}
									\newcommand{\uR}[1]{1}	\def\uRtex{1}
								
									% === Axes ===
									\draw[-&gt;] (\tmin	,0		) -- (\tmax	,0		);
									\draw[-&gt;] (0		,\ymin	) -- (0		,\ymax	);
									\node[font=\scriptsize, below] at (\tmax - 0.1	, 0) {$t$};

									% === Tick marks/numeric labels ===
									\foreach \t in \tticks {
										\draw[gray]	(\t,0.1) -- (\t,-0.1);					% t ticks
									%	\node[below, font=\scriptsize] at (\t,-0.08) {\t};	% t labels	
									}
									\foreach \y in \yticks {
										\draw[gray]	(0.1,\y) -- (-0.1,\y);				% y ticks
									%	\node[right, font=\scriptsize] at (0,\y) {\y};	% y labels
									}
								
									% === Function plots on [tmin, c] ===
									\draw[ultra thick]	plot[domain=\tmin:\c-0.1, variable=\t]	(\t, {\uL{\t}});
									
									% === Function plots on [c, tmax] ===
									\draw[ultra thick]	plot[domain=\c:\tmax, variable=\t]		(\t, {\uR{\t}});
									
									% === Points at t=c ===
									\draw[very thick]	(\c,{\uL{\c}})	circle[radius=5pt];
									\fill[very thick]	(\c,{\uR{\c}})	circle[radius=5pt];
									
									% === Labels ===
									%\node[\OFColor, font=\scriptsize, above] at (\Lmid	, 0		) {$u_c(t) = 0$};
									%\node[\ONColor, font=\scriptsize, above] at (\Rmid	, 1		) {$u_c(t) = 1$};
									\node[\OFColor, font=\scriptsize, below] at (\Lmid	, \ymax	) {$\text{OFF}$};
									\node[\ONColor, font=\scriptsize, below] at (\Rmid	, 1		) {$\text{ON}$};
								\end{tikzpicture}
							</latex-image>
						</image>
					</p>
				</sidebyside>
            </p>
			<!-- <p>
				We also define the following special shifted unit step functions:
				<me>
					u_{-\infty}(t) = 1 \quad\text{and}\quad u_{\infty}(t) = 0 \quad\text{for all } t
				</me>.
				Think about this notation as switch that is always ON and always OFF, respectively.
			</p> -->
        </assemblage>

		<proposition>
			<title> Exploring the Effect of <m>c</m> </title>
			<p>
				Consider the product of the parabolic function and the shifted unit step function
				<me>
					\left(\frac{1}{5}t^2 - 1\right) u_c(t)
				</me>.
				Use the tool to see how changing <m>c</m> affects the ON/OFF behavior of the parabola.
				<proof><title> Instructions </title>
					<ul marker="square">
						<li>Hover over the labels <m>g(t)</m>, <m>\left(\frac15 t^2 - 1\right)</m> and <m>u_c(t)</m> to highlight its graph.</li>
						<li>Drag the value of <m>c</m>, initially at <m>(0,0)</m>, along the <m>t</m> axis.</li>
					</ul>
				</proof>
			</p>

			<sidebyside width="80%" margins="15% 5%">
				<interactive xml:id="unit-step-2"
					platform="jsxgraph"
					aspect="5:2"
					dark-mode-enabled="yes"
					source="
						code/jsxgraph/jsx-core/board.js
						code/jsxgraph/jsx-core/piecewise.js
						code/jsxgraph/jsx-core/utils.js code/jsxgraph/unit-step-interactives/unit-step-2.js"
				>
					<slate xml:id="unit-step-2-plot1" surface="jsxboard" aspect="5:2" />
					<static>
						<image source="code/jsxgraph/img-labels/t.png" width="70%"> Need to Add </image>
					</static>
				</interactive>
			</sidebyside>

			<exercise label="chkpt-1-shifted-unit-step">
				<title> üìñ‚ùì Effect of <m>u_c(t)</m> on a Function </title>
				<statement>
					<p>
						What does multiplying a function <m>f(t)</m> by <m>u_{5}(t)</m> do?
					</p>
				</statement>
				<choices randomize="yes">
					<choice correct="yes">
						<statement>It forces <m>f(t)</m> OFF before <m>t = 5</m>, then switches it ON at <m>t = 5</m>.</statement>
						<feedback>Exactly! Multiplying by <m>u_5(t)</m> means the function is 0 before <m>t = 5</m> and normal after.</feedback>
					</choice>
					<choice>
						<statement>It multiplies <m>f(t)</m> by <m>5</m>.</statement>
						<feedback>Not quite. <m>u_5(t)</m> is not a scaling factor, it's a switching function.</feedback>
					</choice>
					<choice>
						<statement>It adds <m>5</m> to <m>f(t)</m>.</statement>
						<feedback>Nope, <m>u_5(t)</m> does not alter the function's output directly. It controls when it turns on.</feedback>
					</choice>
					<choice>
						<statement>It delays <m>f(t)</m> by 5 seconds.</statement>
						<feedback>Close, but that's what happens when you write <m>f(t - 5)</m>. Multiplying by <m>u_5(t)</m> just turns it ON at <m>t = 5</m>.</feedback>
					</choice>
				</choices>
			</exercise>
		</proposition>

		<p>
			So, to activate a function at <m>t = c</m>, simply multiply it by <m>u_c(t)</m>. This switch-like behavior will be useful later when we write piecewise functions in terms of <m>u_c</m>.
		</p>
    </subsection>

    <subsection label="reversed-step">
        <title> Reversed Unit Step Function </title>

		<exercise><title> Prep-Questions </title>
			<task label="prep-1-reversed-unit-step">
				<title> üìñ‚ùì When Does It Switch? </title>
				<statement>
					<p>
						Recall that
						<me>
							u_3(t) = \left\{
							\begin{array}{ll}
								0, \amp t \lt 3 \\
								1, \amp t \ge 3.
							\end{array}
							\right.
						</me>
					</p>
					
					<p>
						Complete the logical statement by filling-in the missing numbers.
					</p>

					<p>
						Since
					</p>

					<p>
						<m>u_3(t)=</m> <fillin width="2" mode="string" answer="0" /> before <m>t = 3</m>, and 
						<m>u_3(t)=</m> <fillin width="2" mode="string" answer="1" /> after <m>t = 3</m>,
					</p>

					<p>
						then, the expression
					</p>

					<p>
						<m>1-u_3(t)=</m> <fillin width="2" mode="string" answer="1" /> before <m>t = 3</m>, and  
						<m>1-u_3(t)=</m> <fillin width="2" mode="string" answer="0" /> after <m>t = 3</m>, 
					</p>
				</statement>
				<evaluation>
					<evaluate><test><strcmp use-answer="yes" /></test></evaluate>
					<evaluate><test><strcmp use-answer="yes" /></test></evaluate>
					<evaluate><test><strcmp use-answer="yes" /></test></evaluate>
					<evaluate><test><strcmp use-answer="yes" /></test></evaluate>
				</evaluation>
			</task>

			<task label="prep-3-reversed-unit-step">
				<title> üìñ‚ùì Understanding ON/OFF Language </title>
				<statement>
					<p>
						What does it mean when we say a function <m>g(t)</m> is "OFF" for <m>t \gt 4</m>?
					</p>
				</statement>
				<choices randomize="yes">
					<choice>
					<statement>
						<p>That <m>g(t)</m> becomes negative for <m>t \gt 4</m>.</p>
					</statement>
					<feedback>
						<p>
						OFF doesn't mean negative. It means the function is multiplied by <m>0</m>, it's gone.
						</p>
					</feedback>
					</choice>
					<choice>
					<statement>
						<p>That <m>g(t)</m> stops increasing after <m>t = 4</m>.</p>
					</statement>
					<feedback>
						<p>
						Not quite. Saying a function is OFF means it's zeroed out, not just leveled off.
						</p>
					</feedback>
					</choice>
					<choice correct="yes">
					<statement>
						<p>That <m>g(t)</m> is multiplied by 0 for all <m>t \gt 4</m>.</p>
					</statement>
					<feedback>
						<p>
						Exactly. OFF means the function is inactive, because it's being multiplied by 0.
						</p>
					</feedback>
					</choice>
					<choice>
					<statement>
						<p>That <m>g(t)</m> is undefined for <m>t \gt 4</m>.</p>
					</statement>
					<feedback>
						<p>
						Nope, OFF doesn't mean undefined. The function is still defined, but turned off by multiplication with <m>0</m>.
						</p>
					</feedback>
					</choice>
				</choices>
			</task>
		</exercise>

        <p>
            What if you need the opposite behavior ‚Äî a switch that turns a function OFF at <m>t=c</m>?
        </p>

		<p>
			This reverse behavior can be built using the unit step function itself. Since <m>u_c(t)</m> jumps from 0 to 1 at <m>t = c</m>, we can reverse the switch with the subtraction: <m>1-u_c(t)</m>.
		</p>

        <assemblage xml:id="def-reversed-unit-step">
            <title> üìú Reversed Unit Step Function </title>
            <sidebyside widths="67% 1% 30%" valign="middle" margins="1% 1%">
                <p>
                    <me>
                        1 - u_c(t) = 
                        \left\{
                        \begin{array}{ll}
                            1, \amp t \lt c \\
                            0, \amp t \ge c
                        \end{array}
                        \right.
                    </me>
					Before <m>t=c</m>, <m>u_c(t)</m> is ON; after <m>t=c</m>, it turns OFF.
				</p>
                <p/>
                <p>
					<image>
						<latex-image>
							\begin{tikzpicture}[samples=100, scale=0.45]
		
								% === colors ===
								\def\OFColor{blue}				\def\OFFill{\OFColor!15}
								\def\ONColor{green!60!black}	\def\ONFill{\ONColor!15}

								% === figure/domain/tick bounds ===
								\def\tmin{-3.5}	\def\tmax{4.8}
								\def\ymin{-1}	\def\ymax{1.8}
								\def\tticks{-3, -2, -1, 1, 2, 3, 4}
								\def\yticks{1}
							
								% === Transitions ===
								\def\c{1.4}
								\fill[\ONFill]				(\tmin	, \ymin) rectangle (\c		, \ymax);
								\fill[\OFFill]				(\c		, \ymin) rectangle (\tmax	, \ymax);
								%\draw[very thin, dashed]	(\c		, \ymin) 		-- (\c		, \ymax);
								\node[font=\small, below] at ({\c}, -0.1) {$c$};

								% === Function definitions ===
								\newcommand{\uL}[1]{0}	\def\uLtex{0}
								\newcommand{\uR}[1]{1}	\def\uRtex{1}
							
								% === Axes ===
								\draw[-&gt;] (\tmin, 0) -- (\tmax, 0);
								\draw[-&gt;] (0, \ymin) -- (0, \ymax);
								\node[font=\scriptsize, below] at (\tmax - 0.1	, 0) {$t$};
		
								% === Tick marks/numeric labels ===
								\foreach \t in \tticks {
									\draw[gray]	(\t,0.1) -- (\t,-0.1);				% t ticks
								%	\node[below, font=\scriptsize] at (\t,0) {\t};	% t labels	
								}
								\foreach \y in \yticks {
									\draw[gray]	(0.1,\y) -- (-0.1,\y);				% y ticks
								%	\node[left, font=\scriptsize] at (0.1,\y) {\y};	% y labels
								}
							
								% === Function plots on [tmin, c] ===
								\draw[ultra thick]	plot[domain=\tmin:\c-0.1, variable=\t]	(\t, {1-\uL{\t}});
								
								% === Function plots on [c, tmax] ===
								\draw[ultra thick]	plot[domain=\c:\tmax, variable=\t]		(\t, {1-\uR{\t}});
								
								% === Points at t=c ===
								\draw[very thick]	(\c,{1-\uL{\c}}) circle[radius=5pt];
								\fill[very thick]	(\c,{1-\uR{\c}}) circle[radius=5pt];
								
								% === Labels ===
								%\node[\ONColor, font=\scriptsize, above]	at ({(\tmin+\c)*0.5-1}, 1.0)		{$1 - u_c(t) = 1$};
								%\node[\OFColor, font=\scriptsize, above]	at ({(\c+\tmax)*0.5}, 0.0)			{$1 - u_c(t) = 0$};
								\node[\ONColor, font=\scriptsize, above]	at ({(\tmin+\c)*0.5}, \ymin-0.1)	{$\text{ON}$};
								\node[\OFColor, font=\scriptsize, above]	at ({(\c+\tmax)*0.5}, \ymin-0.1)	{$\text{OFF}$};
							\end{tikzpicture}
						</latex-image>
					</image>
				</p>
            </sidebyside>
        </assemblage>

		<example>
			<title> Switching OFF an Exponential </title>
			<statement>
				<p>
					Describe the product, below, and express it in piecewise form.
					<me>
						h(t) = 2e^{-0.5t^2}\left(1 - u_1(t)\right)
					</me>		
				</p>
			</statement>

			<solution>
				<sidebyside widths="56% 4% 40%" valign="top">
					<p>
						Here, the exponential function <m>2e^{-0.5t^2}</m> is ON before <m>t = 1</m> and switches OFF afterward. In piecewise form, this looks like:
						<me>
							h(t) = 
							\left\{
							\begin{array}{ll}
								2e^{-0.5t^2}, \amp t \lt 1 \\
								0, \amp t \ge 1
							\end{array}
							\right.
						</me>
					</p>
					<p/>
					<p>
						<image>
							<latex-image>
								\begin{tikzpicture}[domain=-3:3, samples=200, scale=0.5]

									% === colors ===
									\def\OFColor{blue}				\def\OFFill{\OFColor!15}
									\def\ONColor{green!60!black}	\def\ONFill{\ONColor!15}

									% === figure/domain/tick bounds ===
									\def\tmin{-3.8}	\def\tmax{3.8}
									\def\ymin{-1.3}	\def\ymax{2.8}

									\def\a{\tmin}	\def\b{\tmax}
									
									\def\tticks{
										-2 / $-2$,
										-1 / $-1$,
										1  / $1$,
										2  / $2$,
									}
									\def\yticks{
										-1 / $-1$,
										1  / $1$,
									}
								
									% === Transitions ===
									\def\c{1}
									\fill[\ONFill]				(\tmin	, \ymin) rectangle (\c		, \ymax);
									\fill[\OFFill]				(\c		, \ymin) rectangle (\tmax	, \ymax);
									\node[font=\small, below] at ({\c}, -0.7) {$c$};
								
									% === Function definitions ===
									\newcommand{\f}[1]{2*exp(-(0.5*#1*#1))}	\def\ftex{2e^{-0.5t^2}}
									\newcommand{\uL}[1]{0}	\def\uLtex{0}
									\newcommand{\uR}[1]{1}	\def\uRtex{1}
								
									% === Axes ===
									\draw[-&gt;] (\tmin, 0) -- (\tmax, 0);
									\draw[-&gt;] (0, \ymin) -- (0, \ymax);
									\node[font=\scriptsize, below] at (\tmax - 0.1 , 0) {$t$};
									
									% === Tick marks/numeric labels ===
									\foreach \t /\n in \tticks {
										\draw[gray, shift={(\t,0.08)}] (0pt,0pt) -- (0pt,0pt) node[black, below, font=\scriptsize] {\n};
									}

									\foreach \t /\n in \yticks {
										\draw[gray, shift={(0.1,\t)}] (2pt,0pt) -- (-2pt,0pt) node[black, left, font=\scriptsize] {\n};
									}

									% === Function plots on [a, c] ===
									\draw[\ONColor, thin, dashed]	plot[domain=\a:\c, variable=\t]	(\t, {1-\uL{\t}});
									\draw[\OFColor, very thick, &lt;-]		plot[domain=\a:\c, variable=\t]	(\t, {\f{\t}});
									
									% === Function plots on [c, b] ===
									\draw[\OFColor!50, thin, dashed]	plot[domain=\c:\b, variable=\t]			(\t, {\f{\t}});
									\draw[\OFColor, very thick, -&gt;]	plot[domain=\c+0.06:\b, variable=\t]	(\t, {1-\uR{\t}});

									% === Points at t=c ===
									\draw[\OFColor, very thick]	(\c,{1-\uR{\c}})	circle[radius=3pt];
									\fill[\OFColor]					(\c,{\f{\c}})	circle[radius=3pt];

									% === Labels ===
									\node[\ONColor, font=\scriptsize, above] at ({(\tmin + \c)*0.5-1}, 1)	{$1-u(t) = 1$};
									\node[\OFColor, font=\scriptsize, above] at ({(\c + \tmax)*0.5}, 0)		{$1-u(t) = 0$};
									\node[\ONColor, font=\scriptsize, above] at ({(\tmin + \c)*0.5-0.7}, {\ymin-0.2})	{$\text{ON}$};
									\node[\OFColor, font=\scriptsize, above] at ({(\c + \tmax)*0.5}, {\ymin-0.2})	{$\text{OFF}$};
									\node[font=\small, below] at ({(\tmin + \c)*0.5-0.6}, {\ymax+0.2})	{$\ftex$};
								\end{tikzpicture}
							</latex-image>
						</image>
					</p>
				</sidebyside>
			</solution>
		</example>

		<exercise label="chkpt-1-reversed-unit-step">
			<title> üìñ‚ùìReversed Switch Logic </title>
			<statement>
				<p>
				Which of the following is equivalent to the function
				<me>
					f(t) = \begin{cases}
					t,\amp t \lt -2 \\
					0,\amp t \ge -2
					\end{cases}
				</me>
				</p>
			</statement>
			<choices randomize="yes">
				<choice>
				<statement><p><m>t \cdot u_{-2}(t)</m></p></statement>
				<feedback>
					<p>
					This would turn <m>t</m> ON at <m>t = -2</m>, but here we want it to turn OFF there.
					</p>
				</feedback>
				</choice>
				<choice correct="yes">
				<statement><p><m>t \cdot (1 - u_{-2}(t))</m></p></statement>
				<feedback>
					<p>
					Correct! <m>1 - u_{-2}(t)</m> is ON before <m>t = -2</m> and OFF afterward, matching the piecewise definition.
					</p>
				</feedback>
				</choice>
				<choice>
				<statement><p><m>(t - 2) \cdot u_{-2}(t)</m></p></statement>
				<feedback>
					<p>
					This starts a different function at <m>t = -2</m>. It's neither <m>t</m> nor OFF before then.
					</p>
				</feedback>
				</choice>
				<choice>
				<statement><p><m>t + 2</m></p></statement>
				<feedback>
					<p>
					This is just a shifted version of <m>t</m>, not a piecewise function that shuts off.
					</p>
				</feedback>
				</choice>
			</choices>
		</exercise>

		<p>
			With both <m>u_c(t)</m> and <m>1 - u_c(t)</m> in hand, you can now switch functions ON or OFF exactly when you need. Next, we will cover the last switch that turns ON functions for a limited window of time, over a finite interval.
		</p>
    </subsection>

    <subsection label="windowed-step">
        <title> Windowed Unit Step Function </title>

		<exercise><title> Prep-Questions </title>
			<task label="prep-1-windowed-unit-step">
				<title> üìñ‚ùì True or False: Interval Notation </title>
				<statement correct="yes">
					<p>
					The interval <m>[2, 5)</m> includes <m>t = 2</m> but not <m>t = 5</m>.
					</p>
				</statement>
				<feedback>
					<p>
					The square bracket means <em>included</em> and the parenthesis means <em>excluded</em>, so <m>t = 2</m> is in the interval, but <m>t = 5</m> is not.
					</p>
				</feedback>
			</task>

			<task label="prep-2-windowed-unit-step">
				<title> üìñ‚ùì When Is the Window ON? </title>
				<statement>
					<p>
						Let's compare two unit step functions:
						<me>
							u_3(t) = \left\{
							\begin{array}{ll}
								0, \amp t \lt 3 \\
								1, \amp t \ge 3
							\end{array}
							\right.
							\qquad
							u_7(t) = \left\{
							\begin{array}{ll}
								0, \amp t \lt 7 \\
								1, \amp t \ge 7
							\end{array}
							\right.
						</me>
					</p>

					<p>
						Fill in the blanks with the value of <m>u_3(t)</m> and <m>u_7(t)</m> for the following intervals:
					</p>

					<tabular halign="center">
						<col right="minor"/>
						<col right="minor" />
						<col right="minor" />
						<col right="minor" />
						<row bottom="minor">
							<cell/>
							<cell><m>t \lt 3</m></cell>
							<cell><m>3 \le t \lt 7</m></cell>
							<cell><m>t \ge 7</m></cell>
						</row>
						<row>
							<cell><m>u_3(t)</m></cell>
							<cell><fillin width="6" mode="string" answer="0" /></cell>
							<cell><fillin width="6" mode="string" answer="1" /></cell>
							<cell><fillin width="6" mode="string" answer="1" /></cell>
						</row>
						<row bottom="minor">
							<cell><m>u_7(t)</m></cell>
							<cell><fillin width="6" mode="string" answer="0" /></cell>
							<cell><fillin width="6" mode="string" answer="0" /></cell>
							<cell><fillin width="6" mode="string" answer="1" /></cell>
						</row>
					</tabular>

					<p>
						Now use these values to fill in the values for the expression <m>u_3(t) - u_7(t)</m>.
					</p>

					<tabular halign="center">
						<col right="minor"/>
						<col right="minor" />
						<col right="minor" />
						<col right="minor" />
						<row bottom="minor">
							<cell/>
							<cell><m>t \lt 3</m></cell>
							<cell><m>3 \le t \lt 7</m></cell>
							<cell><m>t \ge 7</m></cell>
						</row>
						<row bottom="minor">
							<cell><m>u_3(t) - u_7(t)</m></cell>
							<cell><fillin width="6" mode="string" answer="0" /></cell>
							<cell><fillin width="6" mode="string" answer="1" /></cell>
							<cell><fillin width="6" mode="string" answer="0" /></cell>
						</row>
					</tabular>
				</statement>
				<evaluation>
					<evaluate><test><strcmp use-answer="yes" /></test></evaluate>
					<evaluate><test><strcmp use-answer="yes" /></test></evaluate>
					<evaluate><test><strcmp use-answer="yes" /></test></evaluate>
					<evaluate><test><strcmp use-answer="yes" /></test></evaluate>
					<evaluate><test><strcmp use-answer="yes" /></test></evaluate>
					<evaluate><test><strcmp use-answer="yes" /></test></evaluate>
					<evaluate><test><strcmp use-answer="yes" /></test></evaluate>
					<evaluate><test><strcmp use-answer="yes" /></test></evaluate>
					<evaluate><test><strcmp use-answer="yes" /></test></evaluate>
				</evaluation>
			</task>
		</exercise>

        <p>
			The final variant combines the first two ideas to create a <q>time window</q> where a function is ON for a limited interval, then turns OFF again.  
        </p>

		<p>
			We can build this behavior by subtracting two step functions:
			<ul marker="square">
				<li><m>u_c(t)</m> turns ON at <m>t = c</m>.</li>
				<li><m>u_d(t)</m> turns ON at <m>t = d</m>, flipping us back to OFF since we are subtracting.</li>
			</ul>
			So the difference <m>u_c(t) - u_d(t)</m> is the ON-window we need.
		</p>

        <assemblage xml:id="def-windowed-unit-step">
            <title> üìú Windowed Unit Step Function </title>
            <sidebyside widths="67% 1% 30%" valign="middle" margins="1% 1%">
                <p>
                    <me>
                        u_c(t) - u_d(t) =
                        \left\{
                        \begin{array}{ll}
                            1, \amp c \le t \lt d \\
                            0, \amp \text{otherwise}
                        \end{array}
                        \right.
                    </me>
					Between <m>t=c</m> and <m>t=d</m>, <m>u_c(t)</m> is ON and OFF otherwise.
                </p>
                <p/>
                <p>
					<image>
						<latex-image>
							\begin{tikzpicture}[samples=100, scale=0.45]
		
								% === colors ===
								\def\OFColor{blue}				\def\OFFill{\OFColor!15}
								\def\ONColor{green!60!black}	\def\ONFill{\ONColor!15}

								% === figure/domain/tick bounds ===
								\def\tmin{-0.5}	\def\tmax{7.5}
								\def\ymin{-1}	\def\ymax{1.8}
								
								% === Transitions ===
								\def\c{2}	\def\d{5}
								\fill[\OFFill]				(\tmin	, \ymin) rectangle (\c		, \ymax);
								\fill[\ONFill]				(\c		, \ymin) rectangle (\d		, \ymax);
								\fill[\OFFill]				(\d		, \ymin) rectangle (\tmax	, \ymax);
								\node[font=\small, below] at ({\c}, -0.25) {$c$};
								\node[font=\small, below] at ({\d}, -0.1) {$d$};
								\def\tticks{\c, \d}
								\def\yticks{1}
							
								% === Function definitions ===
								\newcommand{\uOf}[1]{0}	\def\uOftex{0}
								\newcommand{\uOn}[1]{1}	\def\uOntex{1}

								% === Axes ===
								\draw[-&gt;] (\tmin	, 0		) -- (\tmax	, 0		);
								\draw[-&gt;] (0		, \ymin	) -- (0		, \ymax	);
								\node[font=\small, below] at (\tmax - 0.1	, 0) {$t$};
		
								% === Tick marks/numeric labels ===
								\foreach \t in \tticks {
									\draw[gray]	(\t,0.1) -- (\t,-0.1);			% t ticks
								}
								\foreach \y in \yticks {
									\draw[gray]	(0.1,\y) -- (-0.1,\y);			% y ticks
									\node[left, font=\small] at (0.1,\y) {\y};	% y labels
								}
							
								% === Function plots on [tmin, c] ===
								\draw[ultra thick]	plot[domain=\tmin:\c-0.15, variable=\t]	(\t, {\uOf{\t}});
								
								% === Function plots on [c, d] ===
								\draw[ultra thick]	plot[domain=\c:\d-0.15, variable=\t]	(\t, {\uOn{\t}});
								
								% === Function plots on [d, tmax] ===
								\draw[ultra thick]	plot[domain=\d:\tmax, variable=\t]		(\t, {\uOf{\t}});

								% === Points at t=c,d ===
								\draw[very thick]	(\c,{\uOf{\c}})	circle[radius=5pt];
								\fill[very thick]	(\c,{\uOn{\c}})	circle[radius=5pt];
								\draw[very thick]	(\d,{\uOn{\d}})	circle[radius=5pt];
								\fill[very thick]	(\d,{\uOf{\d}})	circle[radius=5pt];
								
								% === Labels ===
								\node[\OFColor, font=\scriptsize, above] at ({(\tmin + \c)*0.5}	, \ymin)	{OFF};
								\node[\ONColor, font=\scriptsize, above] at ({(\c + \d)*0.5}	, \ymin)	{ON};
								\node[\OFColor, font=\scriptsize, above] at ({(\d + \tmax)*0.5}	, \ymin)	{OFF};
							\end{tikzpicture}
						</latex-image>
					</image>
				</p>
            </sidebyside>
        </assemblage>

		<p>
			This <q>windowed</q> switch models limited bursts of activity ‚Äî like a force that acts for a few seconds, then disappears.
		</p>

		<proposition>
			<title> Exploring the Effect of <m>c</m> and <m>d</m> </title>
			<p>
				<sidebyside widths="50% 10% 40%" margins="0% 0%" valign="middle">
					<p>
						<sidebyside width="50%">
							<interactive xml:id="unit-step-uc-ud"
								platform="jsxgraph"
								aspect="2.8:3"
								dark-mode-enabled="yes"
								source="
									code/jsxgraph/jsx-core/board.js
									code/jsxgraph/jsx-core/piecewise.js
									code/jsxgraph/jsx-core/utils.js code/jsxgraph/unit-step-interactives/unit-step-uc-ud.js"
							>
								<sidebyside width="100%" margins="0% 0%">
									<stack>
										<slate xml:id="unit-step-uc-ud-plot1" surface="jsxboard" aspect="2.8:1" />
										<slate xml:id="unit-step-uc-ud-plot2" surface="jsxboard" aspect="2.8:1" />
										<slate xml:id="unit-step-uc-ud-plot3" surface="jsxboard" aspect="2.8:1" />
									</stack>
								</sidebyside>
								<static>
									<image source="code/jsxgraph/img-labels/t.png" width="70%"> Need to Add </image>
								</static>
							</interactive>
						</sidebyside>
					</p>
					<p/>
					<stack>
						<p/>
						<p><m>\longleftarrow\ \text{Drag}\ c\ \text{here.}</m></p>
						<p/>
						<p/>
						<p/>
						<p/>
						<p><m>\longleftarrow\ \text{Drag}\ d\ \text{here.}</m></p>
						<p/>
						<p/>
						<p><m>\longleftarrow\ \text{Watch how}\ u_c-u_d\ \text{changes.}</m> </p>
						<p/>
					</stack>
				</sidebyside>
			</p>
			<exercise label="chkpt-1-windowed-unit-step">
				<title> üìñ‚ùì Selecting the ON-Interval Expression </title>
				<statement>
					<p>
						Which expression represents a function, <m>f(t)</m>, that is active (ON) on the interval <m>[2, 5)</m> and <m>0</m> elsewhere?
					</p>
				</statement>
				<choices randomize="yes">
					<choice correct="yes">
						<statement><p><m>\ f(t)\left(u_2(t) - u_5(t)\right)</m></p></statement>
						<feedback>Correct!</feedback>
					</choice>
					<choice>
						<statement><p><m>\ 2f(t) + 5f(t)</m></p></statement>
						<feedback>Incorrect</feedback>
					</choice>
					<choice>
						<statement><p><m>\ f(t)\left(u_5(t) - u_2(t)\right)</m></p></statement>
						<feedback>Incorrect</feedback>
					</choice>
					<choice>
						<statement><p><m>\ f(t)\ u_5(t) - u_2(t) </m></p></statement>
						<feedback>Incorrect</feedback>
					</choice>
				</choices>
			</exercise>
		</proposition>

		<p>
			As with previous step functions, this step function switches ON any function over the interval <m>[c,d)</m> and OFF everywhere else.
		</p>

		<example>
			<title> Switching ON a Sine Wave for a While </title>
			<statement>
				<p>
					Write the function that equals <m>\sin t + 2</m> only on <m>[\frac{\pi}{2}, 2\pi)</m> and is <m>0</m> elsewhere, using step functions.
				</p>
			</statement>

			<solution>
				<p>
					Since this function is <m>\sin t + 2</m> only on a finite window, we multiply it by the following difference of shifted unit step functions:
					<me>
						g(t) = \left(\sin t + 2\right) \cdot \left(u_{\sfrac{\pi}{2}}(t) - u_{2\pi}(t)\right)
					</me>.
				</p>

				<p>
					In piecewise form, this function is
					<me>
					g(t) = \left\{
					\begin{array}{ll}
					\sin t + 2, \amp \sfrac{\pi}{2} \le t \lt 2\pi \\
					0, \amp \text{otherwise}
					\end{array}
					\right.
					</me>
				</p>

				<p>
					and its graph is given by 
				</p>

				<sidebyside width="60%" margin="20%">
					<image>
						<latex-image>
							\begin{tikzpicture}[samples=200, scale=0.6]

								% === colors ===
								\def\OFColor{blue}				\def\OFFill{\OFColor!15}
								\def\ONColor{green!60!black}	\def\ONFill{\ONColor!15}
								\def\gColor{red!60!black}

								% === figure/domain/tick bounds ===
								\def\tmin{-2}	\def\tmax{10}
								\def\ymin{-1.8}	\def\ymax{3.8}

								\def\a{0}	\def\b{\tmax}
								
								% === figure/domain/tick bounds ===
								\def\tticks{
									{-0.5*pi}	/ $\Large -\sfrac{\pi}{2}$,
									{0.5*pi}	/ $\Large\sfrac{\pi}{2}$,
									{1*pi}		/ $\pi$,
									{1.5*pi}	/ $\Large\sfrac{3\pi}{2}$,
									{2*pi}		/ $2\pi$,
									{2.5*pi}	/ $\Large\sfrac{5\pi}{2}$,
									{3*pi}		/ $3\pi$,
								}
								\def\yticks{
									-1 / $-1$,
									1  / $1$,
									2  / $2$,
									3  / $3$,
								}
							
								% === Transitions ===
								\def\c{0.5*pi}	\def\d{2*pi}
								\fill[\OFFill]				(\tmin	, \ymin) rectangle (\c		, \ymax);
								\fill[\ONFill]				(\c		, \ymin) rectangle (\d		, \ymax);
								\fill[\OFFill]				(\d		, \ymin) rectangle (\tmax	, \ymax);
								\draw[very thin, dashed]	(\d 	, \ymin) 		-- (\d 		, \ymax);
								\draw[very thin, dashed]	(\c 	, \ymin) 		-- (\c 		, \ymax);

								% === Function definitions ===
								\newcommand{\g}[1]{sin(#1 r)+2}	\def\gtex{\sin t}
								\newcommand{\uOf}[1]{0}	\def\uOftex{0}
								\newcommand{\uOn}[1]{1}	\def\uOntex{1}

								% === Axes ===
								\draw[-&gt;] (\tmin	, 0		) -- (\tmax	, 0		);
								\draw[-&gt;] (0		, \ymin	) -- (0		, \ymax	);
								\node[font=\small, above] at (\tmax - 0.1	, 0) {$t$};
								
								% === Tick marks/numeric labels ===
								\foreach \t /\n in \tticks {
									\draw[gray, shift={(\t,0)}] (0pt,3pt) -- (0pt,-3pt) node[black, below, font=\small] {\n};
								}

								\foreach \t /\n in \yticks {
									\draw[gray, shift={(0,\t)}] (2pt,0pt) -- (-2pt,0pt) node[black, left, font=\small] {\n};
								}

								% === Function plots on [tmin, c] ===
								\draw[\gColor, ultra thick, &lt;-]	plot[domain=\tmin:\c-0.15, variable=\t]	(\t, {\uOf{\t}});
								
								% === Function plots on [c, d] ===
								%\draw[\ONColor, very thick	] plot[domain=\c:\d-0.1, variable=\t] (\t, {\uOn{\t}});
								\draw[\gColor, ultra thick	] plot[domain=\c:\d-0.1, variable=\t] (\t, {\g{\t}});
								
								% === Function plots on [d, tmax] ===
								\draw[\gColor, ultra thick, -&gt;]	plot[domain=\d:\tmax, variable=\t] (\t, {\uOf{\t}});

								% === Points at t=c ===
								%\fill[\ONColor, very thick	] (\c,{\uOn{\c}}) circle[radius=4pt];
								\draw[\gColor, very thick	] (\c,{\uOf{\c}}) circle[radius=4pt];
								\fill[\gColor, very thick	] (\c,{\g{\c}}	) circle[radius=4pt];
								% === Points at t=d ===
								%\draw[\ONColor, very thick	] (\d,{\uOn{\d}}) circle[radius=4pt];
								\fill[\gColor, very thick	] (\d,{\uOf{\d}}) circle[radius=4pt];
								\draw[\gColor, very thick	] (\d,{\g{\d}}	) circle[radius=4pt];
								
								% === Labels ===
								\node[\OFColor, font=\small, above	] at ({(\tmin + \c)*0.5}, 0	) {$g(t)=0$};
								\node[\gColor, font=\small, below	] at ({(\c + \d)*0.5}, \ymax) {$g(t)=\gtex$};
								\node[\OFColor, font=\small, above	] at ({(\d + \tmax)*0.5}, 0	) {$g(t)=0$};

							\end{tikzpicture}
						</latex-image>
					</image>
				</sidebyside>
			</solution>
		</example>

		<corollary>
			<title> Explore the Product <m>f(t) \cdot (u_c(t)-u_d(t))</m> </title>
			<p>
				<line><em>Instructions:</em></line>
				<ul marker="square">
					<li>
						Hover over <m>g(t)</m> to hightlight the graph of <m>(\sin t + 2)(u_c(t) - u_d(t))</m>.
					</li>
					<li>
						Hovering over <m>(\sin t + 2)</m> or <m>(u_c(t) - u_d(t))</m> highlights their individual graph.
					</li>
					<li>
						Drag the value of <m>c</m> and <m>d</m> along the <m>t</m> axis.
					</li>
				</ul>
			</p>

			<sidebyside width="88%" margins="12% 0%">
				<interactive xml:id="unit-step-sine-plus-2-uc-ud"
					platform="jsxgraph"
					aspect="2.1:1"
					dark-mode-enabled="yes"
					source="
						code/jsxgraph/jsx-core/board.js
						code/jsxgraph/jsx-core/piecewise.js
						code/jsxgraph/jsx-core/utils.js code/jsxgraph/unit-step-interactives/unit-step-sine-plus-2-uc-ud.js"
				>
					<sidebyside width="100%">
						<slate xml:id="unit-step-sine-plus-2-uc-ud-plot1" surface="jsxboard" aspect="2.1:1" />
					</sidebyside>
					<static>
						<image source="code/jsxgraph/img-labels/t.png" width="70%"> Need to Add </image>
					</static>
				</interactive>
			</sidebyside>
		</corollary>
    </subsection>

    <p>
        Together, these three step function variants give you complete control over when a function is active. In the next section, we'll combine them to rewrite entire piecewise functions in a single, neat formula.
    </p>

	<reading-questions>
		<p>
			<exercise label="chkpt-uc-concept">
				<title> What Does <m>u_c(t)</m> Do? </title>
				<statement>
					<p>
						The unit step function <m>u_c(t)</m> is multiplied by another function <m>f(t)</m>.  
						What does <m>u_c(t)</m> do in this context?
					</p>
				</statement>
				<choices randomize="yes">
					<choice correct="yes">
						<statement><p>It switches <m>f(t)</m> ON at <m>t=c</m> and keeps it ON forever.</p></statement>
						<feedback><p>Correct ‚Äî <m>u_c(t)</m> equals 0 before <m>t=c</m> and 1 afterward.</p></feedback>
					</choice>
					<choice>
						<statement><p>It switches <m>f(t)</m> OFF at <m>t=c</m>.</p></statement>
						<feedback><p>Not quite ‚Äî that would be <m>1-u_c(t)</m>.</p></feedback>
					</choice>
					<choice>
						<statement><p>It reverses the direction of <m>f(t)</m> at <m>t=c</m>.</p></statement>
						<feedback><p>No ‚Äî there's no <q>reverse</q> here, just ON/OFF switching.</p></feedback>
					</choice>
					<choice>
						<statement><p>It multiplies <m>f(t)</m> by <m>t</m> after <m>t=c</m>.</p></statement>
						<feedback><p>No ‚Äî <m>u_c(t)</m> is either 0 or 1; it doesn't add factors of <m>t</m>.</p></feedback>
					</choice>
				</choices>
			</exercise>
		</p>
	</reading-questions>
</section>