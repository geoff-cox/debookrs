<section label="lt-definition">
	<title> Defining the Laplace Transform </title>

	<introduction>
		<p>
			We've seen how integration by parts transfers derivatives from one function to another inside an integral. Now we take the next step: defining a transform that systematically applies this principle.
		</p>
		<p>
			In this section, we'll see how this transform is constructed and how it converts functions of <m>t</m> into functions of <m>s</m>. You'll also see how to compute Laplace transforms from the definition.
		</p>
	</introduction>

	<subsection xml:id="lt-motivation">
		<title> Why Use the Laplace Transform? </title>
		<p>
			To see where we're headed, imagine you need to solve the differential equation
			<me>
				y'(t) - 9y(t) = 10 e^{2t}.
			</me>
		</p>

		<p>
			Suppose you multiply both sides by <m>e^{-st}</m> and integrate with respect to <m>t</m>:
			<me>
				\int \left[y'(t) - 9y(t)\right] e^{-st} \, dt = \int 10 e^{2t} e^{-st} \, dt.
			</me>
		</p>

		<p>
			The left-hand side contains a derivative inside the integral. From the previous section, you know we can transfer this derivative to the exponential function. Doing so removes the derivative from <m>y(t)</m>, essentially allowing you to use algebra to isolate it.
		</p>

		<p>
			This is the idea behind the Laplace transform and the motivation for its definition.
		</p>	
	</subsection>

	<subsection xml:id="lt-def-basic-definition">
		<title> Definition of the Laplace Transform </title>

		<definition xml:id="laplace-transform-definition"><title>Laplace Transform</title>
			<statement>
				<p>
					Given a function <m>f(t)</m> defined for <m>t \geq 0</m>, its Laplace transform, denoted <m>\lap{f(t)}</m>, is defined by
					<me>
						\lap{f(t)} = \int_0^{\infty} e^{-st} f(t) \, dt,
					</me>
					provided the integral converges. The result is a new function, typically written as <m>F(s)</m>:
					<me>
						F(s) = \lap{f(t)}.
					</me>
				</p>
			</statement>
		</definition>
		
		<task label="lt-definition-chkpt-1">
			<title> üìñ‚ùì Spot the Error in the Definition </title>
			<statement>
				<p>
					Click on the incorrect part of the Laplace transform definition.
				</p>
			</statement>
			<areas>
				<p/>
				<sidebyside widths="28% 44% 28%">
					<p/>
					<p>
					<area correct="no"><m>\ds \laplacesym</m></area>
					<m>\big\{</m>
					<area correct="no"><m>f(t)</m></area>
					<m>\big\}</m>
					<m>=</m>
					<area correct="no"><m>\ds \int_{0}^{\infty}</m></area>
					<area correct="yes"><m>\ds e^{st}</m></area>
					<area correct="no"><m>\ds f(t)</m></area>
					<area correct="no"><m>\ds dt</m></area>
					</p>
					<p/>
				</sidebyside>
			</areas>
		</task>

		<paragraphs xml:id="lt-improper-integrals">
			<title> Working with Improper Integrals </title>
			<p>
				Notice that the Laplace transform involves an improper integral: the upper limit is <m>\infty</m>. In calculus, we handle this by replacing <m>\infty</m> with a variable <m>b</m>, computing the definite integral, and then taking the limit as <m>b \to \infty</m>:
				<me>
					\lap{f(t)} = \int_0^{\infty} e^{-st} f(t)\, dt = \ub{\lim_{b \to \infty} \ob{\int_0^b e^{-st} f(t)\, dt}^{\large\text{(step 1)}}}_{\large\text{(step 2)}}
				</me>.
			</p>

			<p>
				When calculating Laplace transforms, you first compute the integral with respect to <m>t</m>, treating <m>s</m> as a constant. Then you compute the limit of the result as <m>b</m> approaches <m>\infty</m>.
			</p>

			<p>
				The Laplace transform exists if this limit produces a finite value. Often, exponential decay from <m>e^{-st}</m> guarantees convergence when <m>s</m> is large enough.
			</p>

			<task label="lt-definition-chkpt-2">
				<title> üìñ‚ùì Convergence Requirement for Laplace Transforms </title>
				<statement>
					<p>
						To compute an improper integral, you write it as a limit of a definite integral. For example,
						<me>
							\int_0^{\infty} e^{-st} t^3 \, dt = \lim_{b \to \infty} \ub{\int_0^{b} e^{-st} t^3 \, dt}_{\ds I}
						</me>.
					</p>
					<p>
						Select variables/constants would you expect to see after computing the integral, <m>I</m>, but before taking the limit.
					</p>
					<p/>
				</statement>
				<choices randomize="yes">
					<choice correct="yes">
						<statement><m>\ s</m></statement>
						<feedback>The variable <m>s</m> is a constant in <m>e^{-st} t^3</m> so it will also appear in the antiderivative.</feedback>
					</choice>
					<choice correct="yes">
						<statement><m>\ b</m></statement>
						<feedback>The variable <m>b</m> gets plugged into <m>t</m> after you find the antiderivative.</feedback>
					</choice>
					<choice correct="no">
						<statement><m>\ t</m></statement>
						<feedback>Since the variable of integration is <m>t</m>, you plug the limits of integration, <m>0</m> and <m>b</m>, into <m>t</m> once you have the antiderivative.</feedback>	
					</choice>
					<choice correct="no">
						<statement><m>\ c</m> (integration constant)</statement>
						<feedback>We are computing a definite integral, not an indefinite one.</feedback>
					</choice>
				</choices>
			</task>
		</paragraphs>
	</subsection>

	<subsection xml:id="lt-def-first-examples">
		<title> First Examples of Laplace Transforms </title>
		<p>
			Let's see how the definition works by computing Laplace transforms for simple functions. We'll start with a constant function and a linear function.
		</p>

		<lemma>
			<title> Exponential Properties </title>
			<p>
				<task label="lt-def-prep-1">
					<title> Exponential Antiderivative </title>
					<statement>
						<p>
							Evaluate: <m>\ds\int_0^b e^{-3t}\ dt</m>
						</p>
					</statement>
					<choices randomize="yes">
						<choice correct="yes"><statement><m>\quad\ds \frac{1 - e^{-3b}}{3}</m></statement></choice>
						<choice><statement><m>\quad\ds \frac{1}{3}e^{-3b}</m></statement></choice>
						<choice><statement><m>\quad\ds -\frac{1}{3}e^{-3b}</m></statement></choice>
						<choice><statement><m>\quad\ds -\frac{1}{3}e^{3b}</m></statement></choice>
					</choices>
				</task>
		
				<task label="lt-def-prep-2">
					<title> Exponential End Behavior </title>
					<statement>
						<p>
							<sidebyside widths="40% 50%" margins="0% 0%">
								<p>
									<p>
										Use the graph to determine if each limit is -·Äë, <m>0</m>, or ·Äë.
									</p>
									<p>
										Click on one of the three options next to each limit to select your answer.
									</p>
								</p>
								<p>
									<figure xml:id="graph-of-exp-t">
										<caption>Graph of <m>e^t</m></caption>
										<image width="50%">
											<latex-image>
												\begin{tikzpicture}[samples=50]
													% === colors ===
													\def\fColor{blue}

													% === figure/domain/tick bounds ===
													\def\tmin{-2.2}	\def\tmax{2.45}
													\def\ymin{-1.8}		\def\ymax{7.5}
													\def\tticks{1, 2}
													\def\yticks{2, 4}

													% === Function definitions ===
													\newcommand{\f}[1]{e^(#1)}	\def\ftex{e^t}

													\begin{axis}[
														width=15cm, height=7cm, scale=0.4,
														xlabel={$t$}, ylabel={$y$},
														grid=none,
														tick style={thick},
														line width=1pt,
														axis lines=middle,
														xtick distance=1, ytick distance=4,
														minor x tick num=1, minor y tick num=1,
														xmin=\tmin, xmax=\tmax, ymin=\ymin, ymax=\ymax,
													]
													
														% Read and plot data from file
														\addplot [domain=\tmin:\tmax, \fColor] {e^x};

														% === Labels ===
														\node[\fColor, font=\large, above] at (1.5, 5) {$\ftex$};
													\end{axis}
												\end{tikzpicture}
											</latex-image>
										</image>
									</figure>
								</p>
							</sidebyside>
						</p>
					</statement>

					<areas>
						<p/>
						<sidebyside>
							<p>
								<tabular>
									<col halign="right"/>
									<col halign="center" />
									<col halign="center" />
									<row>
										<cell><m>\ds \lim_{b \to \infty} e^{b}</m></cell>
										<cell><m>=</m></cell>
										<cell><area correct="no"><m>-\infty</m></area></cell>
										<cell><area correct="no"><m>0</m></area></cell>
										<cell><area correct="yes"><m>\infty</m></area></cell>
									</row>
									<row>
										<cell><m>\ds \lim_{b \to \infty} e^{-b}</m></cell>
										<cell><m>=</m></cell>
										<cell><area correct="no"><m>-\infty</m></area></cell>
										<cell><area correct="yes"><m>0</m></area></cell>
										<cell><area correct="no"><m>\infty</m></area></cell>
									</row>
									<row>
										<cell><m>\ds \lim_{b \to \infty} e^{8b}</m></cell>
										<cell><m>=</m></cell>
										<cell><area correct="no"><m>-\infty</m></area></cell>
										<cell><area correct="no"><m>0</m></area></cell>
										<cell><area correct="yes"><m>\infty</m></area></cell>
									</row>
									<row>
										<cell><m>\ds \lim_{b \to \infty} e^{-3b}</m></cell>
										<cell><m>=</m></cell>
										<cell><area correct="no"><m>-\infty</m></area></cell>
										<cell><area correct="yes"><m>0</m></area></cell>
										<cell><area correct="no"><m>\infty</m></area></cell>
									</row>
								</tabular>
							</p>
						</sidebyside>
					</areas>
				</task>

				<task label="lt-definition-chkpt-3-0">
					<title> Figure out the Limits </title>
					<statement>
						<p>
							Give each limit by filling in one of the following: <c>0</c>, 
							<c>inf</c> (<m>\infty</m>), 
							<c>-inf</c> (<m>-\infty</m>).
						</p>
						<p>
							<ul marker="square">
								<li>
									If <m>b \to \infty</m> then 
									<m>-4b\to</m> <fillin width="2" mode="string" answer="-inf" />
									and
									<m>\ds\lim_{b \to \infty} e^{-4b} = </m> <fillin width="2" mode="string" answer="0" />
								</li>
							</ul>
							Assume that <m>s</m> is a <em>positive</em> constant.
							<ul marker="square">
								<li>
									If <m>b \to \infty</m> then
									<m>-sb\to</m> <fillin width="2" mode="string" answer="-inf" /> and
									<m>\ds\lim_{b \to \infty} e^{-sb} = </m> <fillin width="2" mode="string" answer="0" />
								</li>
							</ul>
							Assume that <m>s</m> is a <em>negative</em> constant.
							<ul marker="square">
								<li>
									If <m>b \to \infty</m> then
									<m>-sb\to</m> <fillin width="2" mode="string" answer="inf" />
									and
									<m>\ds\lim_{b \to \infty} e^{-sb} = </m> <fillin width="2" mode="string" answer="inf" />
								</li>
							</ul>
						</p>
					</statement>
					
					<evaluation>
						<evaluate>
							<test correct="yes"><strcmp use-answer="no">-\s*inf</strcmp></test>
							<test><strcmp>.*</strcmp>
								<feedback>Incorrect. Where would <m>-4</m> times something that goes to <m>\infty</m> must go?</feedback>
							</test>
						</evaluate>
						<evaluate>
							<test><strcmp use-answer="yes" /></test>
							<test><strcmp>.*</strcmp>
								<feedback>Incorrect. Think about where <m>-4b</m> goes as <m>b</m> goes to <m>\infty</m>, then decide where <m>e^{-4b}</m> should go.</feedback>
							</test>
						</evaluate>
						<evaluate>
							<test correct="yes"><strcmp use-answer="no" >-\s*inf</strcmp></test>
							<test><strcmp>.*</strcmp>
								<feedback>Incorrect. If <m>s</m> is positive, then <m>-sb</m> is a negative number times something that goes to <m>\infty</m>.</feedback>
							</test>
						</evaluate>
						<evaluate>
							<test><strcmp use-answer="yes" /></test>
							<test><strcmp>.*</strcmp>
								<feedback>Incorrect. Think about where <m>-sb</m> goes as <m>b</m> goes to <m>\infty</m>, then decide where <m>e^{-sb}</m> should go.</feedback>
							</test>
						</evaluate>
						<evaluate>
							<test correct="yes"><strcmp use-answer="no">inf</strcmp></test>
							<test><strcmp>.*</strcmp>
								<feedback>Incorrect. If <m>s</m> is negative, then <m>-sb</m> is a positive number times something that goes to <m>\infty</m>.</feedback>
							</test>
						</evaluate>
						<evaluate>
							<test correct="yes"><strcmp use-answer="no">inf</strcmp></test>
							<test><strcmp>.*</strcmp>
								<feedback>Incorrect. Think about where <m>-sb</m> goes as <m>b</m> goes to <m>\infty</m>, then decide where <m>e^{-sb}</m> should go.</feedback>
							</test>
						</evaluate>
					</evaluation>
				</task>
			</p>
		</lemma>

		<example xml:id="laplace-first-examples">
			<title> First Look at Laplace Transforms </title>
			<p>
				Find the Laplace transform of 
				<ol marker="(a)">
					<li>
						<statement>
							<p><m>f(t) = 5</m> (constant function)</p>
						</statement>
						<solution xml:id="laplace-transform-of-5">
							<title> <m>\rightarrow \lap{5}</m> </title>
							<p>
								By the definition above, we have the improper integral
								<men xml:id="lt-def-example-eqn-1">
									\lap{5} = \int_0^{\infty} e^{-st} \cdot 5\ dt = \lim_{b \to \infty} \ub{\int_0^b 5e^{-st}dt}_{I}
								</men>.
							</p>

							<p>
								Assuming <m>s</m> and <m>b</m> are constant, we integrate <m>I</m> with respect to <m>t</m>:
								<me>
									I = \int_0^b 5e^{-st}dt = -\frac{5}{s}e^{-st}\Big|_{t=0}^{t=b} = -\frac{5}{s}\left[ e^{-sb} - 1 \right]
								</me>.
							</p>

							<p>
								Next, we compute the limit of <m>I</m> as <m>b \to \infty</m> (with <m>s</m> constant):
								<md>
									<mrow>
										\lim_{b \to \infty} I = \lim_{b \to \infty} -\frac{5}{s}\left[ e^{-sb} - 1 \right] 
											\amp <xref text="custom" ref="lt-example-1-details"><m>\os{\large ‚ùî}{=}</m></xref> -\frac{5}{s} \lim_{b \to \infty} \Big[ e^{-sb} - 1 \Big]
									</mrow>
									<mrow>
											\amp = -\frac{5}{s} \Big[ \ub{\lim_{b \to \infty} e^{-sb}}_{L} - 1 \Big]
									</mrow>
								</md>
							</p>
					
							<p>
								Since the limit, <m>L</m>, depends on the <term><xref ref="graph-of-e-to-x" text="custom">power of the exponential function</xref></term>, we analyze it based on the value of <m>s</m>:
								<ol>
									<li> <m>s \gt 0</m> (positive): <m>\quad-sb</m> goes to: <m>\ds L = \lim_{b \to \infty}\ e^{-sb} =0\ </m> (converges) </li>
									<li> <m>s \lt 0</m> (negative): <m>\quad -sb \to +\infty\ </m>, so <m>\ e^{-sb} \to \infty\ </m> &amp; <m>L=\infty\ </m> (diverges) </li>
									<li> <m>s = 0</m>: <m>\quad\ds\lap{5} = \int_0^{\infty}5e^{-0t}\ dt = \int_0^{\infty}5\ dt = \infty</m> (diverges) </li>
								</ol>
								By definition, the integral in a Laplace transform must converge, meaning <m>L</m> must converge. So, <m>L=0</m> and the Laplace transform is
								<me>
									\lap{5} = -\frac{1}{s} [0 - 1] = \frac{1}{s} \quad \text{for } s \gt 0
								</me>.
							</p>
						</solution>
					</li>
					<li>
						<statement>
							<p><m>f(t)=t</m></p>
						</statement>
						<solution xml:id="laplace-transform-of-t-power-1"><title> <m>\rightarrow \lap{t}</m> </title>

							<p>
								Applying the definition and writing the integral as a limit, we have
								<me>
									\lap{ t }	= \lim_{b \to \infty} {\color{BurntOrange}\ub{\int_0^b e^{-st} \cdot t\ dt}_{I}}
								</me>.
							</p>

							<p>
								Computing <xref text="custom" ref="lt-example-t-IVP-details"><m>I</m> with integration by parts</xref>, gives us
								<md>
									<mrow>
										{\color{BurntOrange}I}	\amp\ {\color{BurntOrange} = -\frac{b}{s}e^{-sb} - \frac{1}{s^2}e^{-sb} + \frac{1}{s^2}}
									</mrow>
								</md>
							</p>

							<p>
								Next, we compute the limit of <m>I</m> as <m>b \to \infty</m>:
								<md>
									<mrow>
										\lim_{b \to \infty} {\color{BurntOrange}I} \amp = \lim_{b \to \infty} \left({\color{BurntOrange} -\frac{b}{s}e^{-sb} - \frac{1}{s^2}e^{-sb} + \frac{1}{s^2}}\right)
									</mrow>
									<mrow>
										\amp = -\frac{1}{s}\lim_{b \to \infty} be^{-sb} - \frac{1}{s^2}\lim_{b \to \infty} e^{-sb} + \lim_{b \to \infty} \frac{1}{s^2}
									</mrow>
									<mrow>
										\amp = -\frac{1}{s}\ub{\lim_{b \to \infty} \frac{b}{e^{sb}}}_{L_1} - \frac{1}{s^2}\ub{\lim_{b \to \infty} e^{-sb}}_{L_2} + \frac{1}{s^2}
									</mrow>
								</md> 
							</p>

							<p>
								As long as <m>s \gt 0</m>, both <term><xref ref="lt-example-t-LH-details" text="custom"><m>L_1\to 0</m> &amp; <m>L_2\to 0</m></xref></term>. Therefore, the Laplace transform of <m>t</m> is
								<me>
									\lap{ t } = \frac{1}{s^2}, \quad s &gt; 0
								</me>.
							</p>
						</solution>
					</li>
				</ol>
			</p>
		</example>

		<p>
			These examples show the typical process: set up the improper integral, compute it as a definite integral, then take the limit as <m>b \to \infty</m>. You'll see how <m>s</m> emerges naturally from this process.
		</p>
		<p>
			In upcoming sections, we'll build a library of Laplace transforms for the most common functions and learn properties that make these computations even faster.
		</p>
	</subsection>

	<objectives label="lt-definition-wrapup">
		<ul marker="square">
			<li>The Laplace transform converts a function of <m>t</m> into a function of <m>s</m> using <me>\lap{f(t)} = \int_0^\infty e^{-st} f(t)\, dt.</me></li>
			<li>The Laplace transform is an improper integral evaluated by rewriting it as <me>\int_0^{\infty} e^{-st} f(t)\, dt = \lim_{b \to \infty} \int_0^b e^{-st} f(t)\, dt</me>.</li>
			<li>The result is a function of <m>s</m> and exists only when the integral converges.</li>
		</ul>
	</objectives>
</section>