<section xmlns:xi="http://www.w3.org/2001/XInclude"><title> Slope Fields </title>
	<introduction>
		<p>
			Very few differential equations come with neat, closed-form solutions. Fortunately, we can still understand what those solutions look like by focusing on <em>how</em> they change instead of <em>what</em> they equal. A <term>slope field</term> turns the right-hand side of a first-order equation into a picture that every solution curve must follow.
		</p>

		<p>
			A slope field is a visual representation of the slopes that a solution curve must follow at each point in the plane. It's like a map of tiny arrows (or line segments) that show the direction a solution would travel through each point. The pattern formed by these segments gives us a picture of the <em>family of solutions</em> to the differential equation: one possible solution passes through each point in the plane, and the slope field shows how all of these solutions must behave.
		</p>

		<p>
			In this way, a slope field doesn't just represent a single solutionâ€”it represents <em>all possible solutions</em> to the differential equation. If you pick any point <m>(t_0, y_0)</m>, a unique solution curve from the family passes through it, and the slope field shows how that curve continues on, always following the local directions. It's like dropping a leaf into a flowing streamâ€”the arrows show you where it will go.
		</p>
	</introduction>

	<paragraphs><title> From Equation to Slope </title>
		<p>
			Since every first order differential equation consists of some arrangement of <m>t</m>, <m>y</m>, or <m>y'</m>, we can move everything to one side of the equation and represent the equation as:
			<me>
				f(t, y, y') = 0,
			</me>
			where <m>f</m> is a single function containing everything we moved over. Here is an example of such a rearrangement:
			<me>
				y' - ty = 2 - t^2 \quad \Rightarrow \quad
				\ub{y' - ty - 2 + t^2}_{\large f(t, y, y')} = 0.
			</me>
		</p>

		<p>
			When it is possible to put just <m>y'</m> on one side and everything else on the other, we write:
			<men xml:id="yp-equals-fty">
				y' = f(t, y).
			</men>
		</p>

		<p>
			Equations of this form have a very special property since we can think of the function <m>f(t,y)</m> as a function that takes two variables, <m>t</m> and <m>y</m>, and returns a single number. For example, when <m> t = 3 </m> and <m> y = 5 </m>,
			<me>
				y'(3) = f(3, 5) = \text{some number}.
			</me>
		</p>

		<p>
			Calculus teaches you that <m>y'(3)</m> is the slope of the tangent line of <m>y</m> at <m>t=3</m>. So this number gives the exact direction the graph of <m>y</m> is moving when it passes through <m>(3,5)</m>.
		</p>

		<example><title> Quick Slope Check </title>
			<statement>
				<p>
					For
					<me>
						y' - ty = 2 - t^2,
					</me>
					find the slope at <m>(t,y)=(-1,6)</m>.
				</p>
			</statement>
			<solution>
				<p>
					Rearranging gives <me>y' = ty + 2 - t^2</me>, so <m>f(t,y)=ty+2-t^2</m>.  Substitute:
				</p>
				<me>
					f(-1,6) = (-1)(6)+2-(-1)^2 = -5.
				</me>
				<p>
					Any solution that passes through <m>(-1,6)</m> leaves that point with slope <m>-5</m>.
				</p>
			</solution>
		</example>

		<p>
			Here, <m>f(t,y)</m> acts as a <em>slope generator</em> that takes in a <m>(t, y)</m> point in the <m>ty</m>-plane and outputs the slope of the solution, <m>y(t)</m>, as it passes through this point.
		</p>
	</paragraphs>

	<paragraphs><title> Sketching a Slope Field  </title>
		
		<p>
			To draw a slope field by hand:
		</p>

		<ol>
			<li>Choose a small grid of points in the <m>(t,y)</m>-plane.</li>
			<li>Compute <m>f(t,y)</m> at each point.</li>
			<li>Draw a short line segment centered at the point with that slope.</li>
		</ol>

		<p>
			Take the equation
		</p>

		<me>
			\frac{dy}{dt} = y - t.
		</me>

		<p>
			Computing nine slopes on a <m>3\times3</m> grid yields:
		</p>

		<sidebyside widths="44% 28%" margins="5% 5%" valign="middle">
			<tabular halign="center">
				<col right="minor"/>
				<col halign="right"/>
				<row bottom="minor"><cell><m> (t , y) </m></cell><cell><m> f(t,y) = y - t </m></cell></row>
				<row><cell><m> (-1 , -1 ) </m></cell><cell><m> -1-(-1)= 0 </m></cell></row>
				<row><cell><m> (-1 ,  0 ) </m></cell><cell><m> -1-(-0)= 1 </m></cell></row>
				<row><cell><m> (-1 ,  1 ) </m></cell><cell><m> -1-( 1)= 2 </m></cell></row>
				<row><cell><m> ( 0 , -1 ) </m></cell><cell><m>  0-(-1)= 1 </m></cell></row>
				<row><cell><m> ( 0 ,  0 ) </m></cell><cell><m>  0-( 0)= 0 </m></cell></row>
				<row><cell><m> ( 0 ,  1 ) </m></cell><cell><m>  0-( 1)=-1 </m></cell></row>
				<row><cell><m> ( 1 , -1 ) </m></cell><cell><m>  1-(-1)=-2 </m></cell></row>
				<row><cell><m> ( 1 ,  0 ) </m></cell><cell><m>  1-( 0)=-1 </m></cell></row>
				<row><cell><m> ( 1 ,  1 ) </m></cell><cell><m>  1-( 1)= 0 </m></cell></row>
			</tabular>
			<image>
				<latex-image>
					\begin{tikzpicture}[declare function={f(\x,\y)=\y-\x;}, scale=0.4]

						\pgfkeys{/pgf/number format/.cd,
							fixed,
							precision=0
						}
						\def\tmin{-2} \def\tmax{2}
						\def\ymin{-2} \def\ymax{2}
						\def\tmargin{1} % extra space around the grid
						\def\ymargin{1} % extra space around the grid
						\def\nt{2}  \def\ny{2}
						\def\arrowscale{0.7} % length of slope arrows

						% stepsize along t-axis and y-axis
						\pgfmathsetmacro{\tL}{\tmin + \tmargin}
						\pgfmathsetmacro{\tR}{\tmax - \tmargin}
						\pgfmathsetmacro{\yL}{\ymin + \ymargin}
						\pgfmathsetmacro{\yR}{\ymax - \ymargin}
						\pgfmathsetmacro{\tstep}{(\tR-\tL)/\nt}
						\pgfmathsetmacro{\ystep}{(\yR-\yL)/\ny}

						% Draw grid lines
						\foreach \i in {0,...,\nt} {
							\pgfmathsetmacro{\tk}{\tL + \i * \tstep}
							\draw[thin, gray!50] (\tk, \ymin) -- (\tk, \ymax);
						}
						\foreach \j in {0,...,\ny} {
							\pgfmathsetmacro{\yk}{\yL + \j * \ystep}
							\draw[thin, gray!50] (\tmin, \yk) -- (\tmax, \yk);
						}

						% Axes
						\draw[->] (\tmin, 0) -- (\tmax+0.6, 0) node[xshift=-0.1cm, font=\scriptsize, below] {$t$};
						\draw[->] (0, \ymin) -- (0, \ymax+0.6) node[yshift=-0.1cm, font=\scriptsize, left] {$y$};

						% Bounding box
						\draw[gray!50] (\tmin,\ymin) rectangle (\tmax,\ymax);

						% Tick marks and labels on t-axis
						\foreach \t in {\tL,...,\tR} {
						\pgfmathparse{\t &lt; 0}
						\ifnum\pgfmathresult=1	 % shift negative ticks
							\draw (\t,\ymin-0.1) -- (\t,\ymin+0.1)
							node[font=\tiny, below, xshift=-0.1cm] {\pgfmathprintnumber{\t}};
						\else
							\draw (\t,\ymin-0.1) -- (\t,\ymin+0.1)
							node[font=\tiny, below] {\pgfmathprintnumber{\t}};
						\fi
						}

						% Tick marks and labels on y-axis
						\foreach \y in {\yL,...,\yR}
							\draw (\tmin-0.1,\y) -- (\tmin+0.1,\y)
							node[font=\tiny, left] {\pgfmathprintnumber{\y}};

						% Title
						%\node[above, font=\small\bfseries] at (current bounding box.north) 
						%	{Slope field for \quad $y' = x + y$};

						% slope field: just draw a vector at each point
						\foreach \i in {0,...,\nt}
						\foreach \j in {0,...,\ny}{

							\pgfmathsetmacro{\tpt}{\tL + \i * \tstep}
							\pgfmathsetmacro{\ypt}{\yL + \j * \ystep}
							\pgfmathsetmacro{\slope}{f(\tpt,\ypt)}

							% Normalize direction vector (1, slope) to fixed length
							\pgfmathsetmacro{\len}{sqrt(1 + (\slope)^2)}
							\pgfmathsetmacro{\dt}{\arrowscale / \len}
							\pgfmathsetmacro{\dy}{\arrowscale * \slope / \len}

							%\draw[teal!90, -stealth, line width=1.1pt, shift={(\tpt,\ypt)}] (-0.5*\dt, -0.5*\dy) -- (0.5*\dt, 0.5*\dy);
							\draw[teal!75, line width=1.1pt, shift={(\tpt,\ypt)}] (-0.5*\dt, -0.5*\dy) -- (0.5*\dt, 0.5*\dy);
							\draw[fill=white!50] (\tpt,\ypt) circle (1.5pt);
						}

					\end{tikzpicture}
				</latex-image>
			</image>
		</sidebyside>

		<p>
			While hand-sketching slope fields helps build intuition, it becomes tedious with more points. A computer-generated slope field provides a more complete picture. For instance, <xref ref="y-t-slope-field-16x16"/> shows a <m>16\times16</m> slope field for the same equation. It also includes the solution curve that passes through the point <m>(0, \frac12)</m>. Notice how the curve follows the general trend of the slopes, as if it were the path of an object driven by a current.
		</p>

		<sidebyside widths="44%" margins="28% 28%" valign="middle">
			<figure xml:id="y-t-slope-field-16x16">
				<image>
					<latex-image>
						\begin{tikzpicture}[declare function={f(\x,\y)=\y-\x;}, scale=0.4]

							\pgfkeys{/pgf/number format/.cd,
								fixed,
								precision=1
							}
							\def\tmin{-4} \def\tmax{4}
							\def\ymin{-4} \def\ymax{4}
							\def\tmargin{0.5} \def\ymargin{0.5} % extra space around the grid
							\def\nt{14}  \def\ny{14}
							\def\arrowscale{0.4} % length of slope arrows

							% stepsize along t-axis and y-axis
							\pgfmathsetmacro{\tL}{\tmin + \tmargin}
							\pgfmathsetmacro{\tR}{\tmax - \tmargin}
							\pgfmathsetmacro{\yL}{\ymin + \ymargin}
							\pgfmathsetmacro{\yR}{\ymax - \ymargin}
							\pgfmathsetmacro{\tstep}{(\tR-\tL)/\nt}
							\pgfmathsetmacro{\ystep}{(\yR-\yL)/\ny}

							% Draw grid lines
							\foreach \i in {0,...,\nt} {
								\pgfmathsetmacro{\tk}{\tL + \i * \tstep}
								\draw[thin, gray!50] (\tk, \ymin) -- (\tk, \ymax);
							}
							\foreach \j in {0,...,\ny} {
								\pgfmathsetmacro{\yk}{\yL + \j * \ystep}
								\draw[thin, gray!50] (\tmin, \yk) -- (\tmax, \yk);
							}

							% Axes
							\draw[->] (\tmin, 0) -- (\tmax+0.6, 0) node[xshift=-0.1cm, font=\scriptsize, below] {$t$};
							\draw[->] (0, \ymin) -- (0, \ymax+0.6) node[yshift=-0.1cm, font=\scriptsize, left] {$y$};

							% Bounding box
							\draw[gray!50] (\tmin,\ymin) rectangle (\tmax,\ymax);

							% Tick marks and labels on t-axis
							\pgfmathtruncatemacro{\tLint}{\tL}
							\pgfmathtruncatemacro{\tRint}{\tR}
							\foreach \t in {\tLint,...,\tRint} {
							\pgfmathparse{\t &lt; 0}
							\ifnum\pgfmathresult=1	 % shift negative ticks
								\draw (\t,\ymin-0.1) -- (\t,\ymin+0.1)
								node[font=\tiny, below, xshift=-0.1cm] {\t};
							\else
								\draw (\t,\ymin-0.1) -- (\t,\ymin+0.1)
								node[font=\tiny, below] {\t};
							\fi
							}

							% Tick marks and labels on y-axis
							\pgfmathtruncatemacro{\yLint}{\yL}
							\pgfmathtruncatemacro{\yRint}{\yR}
							\foreach \y in {\yLint,...,\yRint}
								\draw (\tmin-0.1,\y) -- (\tmin+0.1,\y)
								node[font=\tiny, left] {\y};

							% Title
							%\node[above, font=\small\bfseries] at (current bounding box.north) 
							%	{Slope field for \quad $y' = x + y$};

							% slope field: just draw a vector at each point
							\foreach \i in {0,...,\nt}
							\foreach \j in {0,...,\ny}{

								\pgfmathsetmacro{\tpt}{\tL + \i * \tstep}
								\pgfmathsetmacro{\ypt}{\yL + \j * \ystep}
								\pgfmathsetmacro{\slope}{f(\tpt,\ypt)}

								% Normalize direction vector (1, slope) to fixed length
								\pgfmathsetmacro{\len}{sqrt(1 + (\slope)^2)}
								\pgfmathsetmacro{\dt}{\arrowscale / \len}
								\pgfmathsetmacro{\dy}{\arrowscale * \slope / \len}

								%\draw[teal!60, arrows = {-Stealth[width=4pt, length=4pt, inset=3pt]}, line width=0.8pt, shift={(\tpt,\ypt)}] (-0.5*\dt, -0.5*\dy) -- (0.5*\dt, 0.5*\dy);
								\draw[teal!75, line width=0.8pt, shift={(\tpt,\ypt)}] (-0.5*\dt, -0.5*\dy) -- (0.5*\dt, 0.5*\dy);
								%\draw[fill=white!50] (\tpt,\ypt) circle (1.5pt);
							}

							% Optional solution curve
							\def\yo{0.5}
							\draw[magenta, thick, samples=100] 
								plot[domain=\tmin:2.74] (\x, {\x - \yo*exp(\x) + 1});

						\end{tikzpicture}
					</latex-image>
				</image>
				<caption>Slope field for <m>y' = y - t</m></caption>
			</figure>
		</sidebyside>

	</paragraphs>

	<conclusion><title> ðŸ“¤ Wrap-Up </title>	
		<paragraphs><title> Summary </title>
			<p>
				A slope field turns a differential equation into a navigational chart: the arrows are the instructions every solution must obey. The field captures all possible solutions at onceâ€”each point in the plane is an entry point to a unique curve in the family. By reading that chart, you can predict qualitative behaviorâ€”growth, decay, equilibria, long-term trendsâ€”without ever writing down an explicit formula. In the next section we focus on autonomous equations, whose slope fields have an extra layer of symmetry.
			</p>
		</paragraphs>

		<paragraphs><title> Reading Questions </title>
			<exercise><title> Answer the Following </title>
				<task label="wrap-up-slope-fields-1"><title>  </title>
					<statement>
						<p>
							
						</p>
					</statement>
					<choices>
						
					</choices>
				</task>
			</exercise>
		</paragraphs>
	</conclusion>
</section>