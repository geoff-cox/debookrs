<!--
Section: Piecewise Forcing Functions
====================================

Introduction
============
	* We have looked at solving linear differential equations with constant coefficients when the forcing function is some combination of polynomial, exponential, sine, or cosine functions.
	* We assumed that the forcing function remained the same for any value of the independent variable.
	* Now, we want to consider the case when the forcing function can switch from one function to another function at some point. For example, we might have a forcing function that is initially <m>t^2</m>, then at some time later it switches to <m>\sin(t)</m>.
	* This behavior can be described using a piecewise defined function and in this section we will see how the Laplace transform can be used to solve linear differential equations with piecewise defined forcing functions.
	* Before we can solve such equations, we first need to learn how to rewrite piecewise defined functions in terms of functions that the Laplace transform can easily handle.
	* These functions are called <em>unit step functions</em>.

Topics
======
	* Piecewise Functions
	* Unit-Step Functions
	* Writing Piecewise Functions in Terms of Unit-Step Functions
	* Laplace Transforms of Unit-Step Functions
	* Laplace Transforms of Piecewise Functions
	* Solving Linear Differential Equations with Piecewise Forcing Functions

Subsection: Unit Step Functions
===============================
	Subsubsection: Definition
	Subsubsection: Shifting the Unit Step Function Left or Right
		* Unit step function as the function switch:
				off: (-infty, c)	on: (c, +infty)
	Subsubsection: Reversing the Direction of the Unit Step Function
		* Unit step function as the function switch:
				on: (-infty, c)		off: (c, +infty)
	Subsubsection: Unit Step Function on an Interval
		* Unit step function as the function switch:
				off: (-infty, c) 	on: (c, d)	off: (d, +infty)
-->

<section xmlns:xi="http://www.w3.org/2001/XInclude"><title> Piecewise Forcing Functions </title>

	<introduction>

		<p>
			Needs to be written.
		</p>
		
	</introduction>

	<subsection><title> Unit Step Functions </title>

		<reading-questions><title> 👀 <em>Reading Preparation</em> </title>

			<p>
				<exercise label="prep-unit-step-outputs"><title> Unit-Step Output </title>
					<statement>
						<p>
							Consider the function defined by
							<me>
								u(t) = \left\{
								\begin{array}{ll}
									0,	&amp; t \lt 0\\
									1,	&amp; t \ge 0.
								\end{array} \right.
							</me>
						</p>

						<p>
							Give the output of <m>u(t)</m> for the following values of <m>t</m>.
						</p>

						<tabular>
							<col/>
							<col/>
							<col halign = "right"/>
							<col/>
							<col/>
							<row>
								<cell>(a)</cell>
								<cell><m>t=3</m></cell>
								<cell><m>u(3)</m></cell>
								<cell><m>=</m></cell>
								<cell><fillin mode="number" answer="1" /></cell>
							</row>
							<row>
								<cell>(b)</cell>
								<cell><m>t=-3</m></cell>
								<cell><m>u(-3)</m></cell>
								<cell><m>=</m></cell>
								<cell><fillin mode="number" answer="0" /></cell>
							</row>
							<row>
								<cell>(c)</cell>
								<cell><m>t=4</m></cell>
								<cell><m>u(4)</m></cell>
								<cell><m>=</m></cell>
								<cell><fillin mode="number" answer="1" /></cell>
							</row>
							<row>
								<cell>(d)</cell>
								<cell><m>t=0</m></cell>
								<cell><m>u(0)</m></cell>
								<cell><m>=</m></cell>
								<cell><fillin mode="number" answer="1" /></cell>
							</row>
						</tabular>
					</statement>
					<evaluation>
						<evaluate><test><strcmp use-answer="yes" /></test></evaluate>
						<evaluate><test><strcmp use-answer="yes" /></test></evaluate>
						<evaluate><test><strcmp use-answer="yes" /></test></evaluate>
						<evaluate><test><strcmp use-answer="yes" /></test></evaluate>
					</evaluation>
				</exercise>
			</p>
		
		</reading-questions>
		
		<subsubsection><title> Definition </title>
			
			<p>
				In the last section, we mentioned that piecewise functions can't be directly handled by the Laplace transform. We also hinted that there was a function that could simulate this <q>on</q> or <q>off</q> behavior of a piecewise function based on the <m>t</m>-values.
			</p>
			
			<p>
				This is exactly what the <em>unit step function</em> does. Also called the <em>Heaviside function</em>, it acts like a mathematical switch that flips on at a specific value of <m>t</m>. We define it as follows:
			</p>
			
			<definition xml:id="unit-step-function">
				<statement>
					<p>
						The <em>unit-step</em> or <em>Heaviside function</em>, <m>u(t)</m>, is defined as
					</p>
					<sidebyside widths="2% 54% 5% 37% 2%" valign="top">
						<p/>
						<p>
							<me>
								u(t) = \left\{
								\begin{array}{ll}
									0,	&amp; t \lt 0\\
									1,	&amp; t \ge 0
								\end{array} \right.
							</me>
							and has the graph shown to the right.
						</p>
						<p/>
						<p>
							<image>
								<latex-image>
									\begin{tikzpicture}[domain=-3.5:3.5, samples=100, scale=0.6]
				
										% === Piecewise Function with 2 Parts ===
	
										% === colors ===
										\def\offColor{blue}				\def\offFill{\offColor!15}
										\def\onColor{green!60!black}	\def\onFill{\onColor!15}
	
										% === figure/domain/tick bounds ===
										\def\tmin{-3.5}	\def\tmax{3.5}
										\def\ymin{-1.2}	\def\ymax{1.8}
										\def\tticks{-3, -2, -1, 1, 2, 3}
										\def\yticks{1}
									
										% === Transistions ===
										\def\c{0}
									
										% === Function definitions ===
										\newcommand{\uL}[1]{0}	\def\uLtex{0}
										\newcommand{\uR}[1]{1}	\def\uRtex{1}	
				
										% === Background regions ===
										\fill[\offFill] (\tmin,	\ymin)	rectangle (\c,	\ymax);
										\fill[\onFill]	(\c,	\ymin)	rectangle (\tmax,	\ymax);
									
										% === Axes ===
										\draw[-&gt;] (\tmin	,0		) -- (\tmax	,0		);
										\draw[-&gt;] (0		,\ymin	) -- (0		,\ymax	);
										\node[font=\scriptsize, below] at (\tmax - 0.1	, 0) {$t$};
				
										% === Tick marks and labels ===
										\foreach \t in \tticks {
											\draw[gray]	(\t,0.1) -- (\t,-0.1);					% t ticks
											\node[below, font=\scriptsize] at (\t,-0.08) {\t};	% t labels	
										}
										\foreach \y in \yticks {
											\draw[gray]	(0.1,\y) -- (-0.1,\y);				% y ticks
											\node[left, font=\scriptsize] at (0.1,\y) {\y};	% y labels
										}
									
										% === Function plots on [tmin, c] ===
										\draw[\offColor, very thick]	plot[domain=\tmin:\c-0.05, variable=\t]	(\t, {\uL{\t}});
										
										% === Function plots on [c, tmax] ===
										\draw[\onColor, very thick]		plot[domain=\c:\tmax, variable=\t]		(\t, {\uR{\t}});
										
										% === Points at t=c ===
										\draw[\offColor, thick]	(\c,{\uL{\c}})	circle[radius=3pt];
										\fill[\onColor]			(\c,{\uR{\c}})	circle[radius=3pt];
										
										% === Function Labels ===
										\node[\offColor	, font=\scriptsize, below] at ({(\tmin + \c)/2},	{\ymax+0.15})	{$u(t) = 0$};
										\node[\onColor	, font=\scriptsize, below] at ({(\c + \tmax)/2},	{\ymax+0.15})	{$u(t) = 1$};
										\node[\offColor	, font=\scriptsize, above] at ({(\tmin + \c)/2}, \ymin)	{$\text{``off''}$};
										\node[\onColor	, font=\scriptsize, above] at ({(\c + \tmax)/2}, \ymin)	{$\text{``on''}$};
									\end{tikzpicture}
								</latex-image>
							</image>
						</p>
						<p/>
					</sidebyside>
				</statement>
			</definition>

			<exercise>
				<statement>
					<p>
						What are the only values <m>u(t)</m> can take for any value of <m>t</m>?
					</p>
				</statement>
				<choices>
					<choice correct="no">
						<statement>Only 0</statement>
					</choice>
					<choice correct="no">
						<statement>Only 1</statement>
					</choice>
					<choice correct="yes">
						<statement>Only 0 and 1</statement>
					</choice>
					<choice correct="no">
						<statement>Only positive numbers</statement>
					</choice>
					<choice correct="no">
						<statement>Any number</statement>
					</choice>
				</choices>
			</exercise>

			<p>
				The fundamental property of a unit step function is that it only takes on two values: zero and one. Therefore, for any function <m>f(t)</m>, the product, <m>f(t) \cdot u(t)</m>, indicates that <m>f(t)</m> is multipied by either either zero or one.
			</p>

			<p>
				For example, the following product has two possible cases:
				<me>
					\left(\frac15 t^2 - 1\right) u(t) = \left\{
					\begin{array}{ll}
						0,	&amp; t \lt 0 \quad (\text{since } u(t) = 0)\\
						\frac15 t^2 - 1,	&amp; t \ge 0 \quad (\text{since } u(t) = 1).
					\end{array} \right.
				</me>
			</p>

			<p>
				In this context, you can think of <m>u(t)</m> as an <q>on/off</q> switch for the function <m>\frac15 t^2 - 1</m>. You can see this in <xref ref="unit-step-on-off"/> where the function is <q>off</q> in the blue region since it is multiplied by <m>u(t) = 0</m>. In the green region, the function is <q>on</q> since it is multiplied by <m>u(t) = 1</m>. 
			</p>

			<p>
				<sidebyside width="60%" margins="15%">
					<figure xml:id="unit-step-on-off"><caption> Graph of <m>\left(\frac15 t^2 - 1\right) u(t)</m> </caption>
						<image>
							<latex-image>
								\begin{tikzpicture}[domain=-3:3, samples=200, scale=0.7]
			
									% === Piecewise Function with 2 Parts ===

									% === colors ===
									\def\offColor{blue}				\def\offFill{\offColor!15}
									\def\onColor{green!60!black}	\def\onFill{\onColor!15}

									% === figure/domain/tick bounds ===
									\def\tmin{-3.5}	\def\tmax{3.5}
									\def\ymin{-1.5}	\def\ymax{1.8}
									\def\tmin{-3.5}	\def\tmax{3.5}
									\def\tticks{-3, -2, -1, 1, 2, 3}
									\def\yticks{}
								
									% === Transistions ===
									\def\c{0}
								
									% === Function definitions ===
									\newcommand{\f}[1]{0.2*#1*#1 - 1}	\def\ftex{\frac15 x^2 - 1}
									\newcommand{\uL}[1]{0}				\def\uLtex{0}
									\newcommand{\uR}[1]{1}				\def\uRtex{1}
								
									% === Background regions ===
									\fill[\offFill] (\tmin,	\ymin)	rectangle (\c,	\ymax);
									\fill[\onFill]	(\c,	\ymin)	rectangle (\tmax,	\ymax);
								
									% === Axes ===
									\draw[-&gt;] (\tmin	,0		) -- (\tmax	,0		);
									\draw[-&gt;] (0		,\ymin	) -- (0		,\ymax	);
									\node[font=\scriptsize, below] at (\tmax - 0.1	, 0) {$t$};
			
									% === Tick marks and labels ===
									\foreach \t in \tticks {
										\draw[gray]	(\t,0.1) -- (\t,-0.1);					% t ticks
										\node[below, font=\scriptsize] at (\t,-0.08) {\t};	% t labels	
									}
									\foreach \y in \yticks {
										\draw[gray]	(0.1,\y) -- (-0.1,\y);				% y ticks
										\node[left, font=\scriptsize] at (0.1,\y) {\y};	% y labels
									}
								
									% === Function plots on [tmin, c] ===
									\draw[\offColor, very thick]		plot[domain=\tmin:\c-0.05, variable=\t]	(\t, {\uL{\t}});
									\draw[\offColor!50, thick, dashed]	plot[domain=\tmin:\c-0.05, variable=\t]	(\t, {\f{\t}});
									
									% === Function plots on [c, tmax] ===
									%\draw[\offColor!50, thick, dashed]	plot[domain=\c:\tmax, variable=\t]	(\t, {\uR{\t}});
									\draw[\onColor, very thick]			plot[domain=\c:\tmax, variable=\t]	(\t, {\f{\t}});
									
									% === Points at t=c ===
									\fill[\onColor]			(\c,{\f{\c}})	circle[radius=3pt];
									\draw[\offColor, thick]	(\c,{\uL{\c}})	circle[radius=3pt];
			
									% === Function Labels ===
									\node[\offColor	, font=\scriptsize, below] at ({(\tmin + \c)/2},	{\ymax+0.15})	{$u(t) = 0$};
									\node[\onColor	, font=\scriptsize, below] at ({(\c + \tmax)/2},	{\ymax+0.15})	{$u(t) = 1$};
									\node[\offColor	, font=\scriptsize, above] at ({(\tmin + \c)/2}, \ymin)	{$\text{``off''}$};
									\node[\onColor	, font=\scriptsize, above] at ({(\c + \tmax)/2}, \ymin)	{$\text{``on''}$};

									\node[font=\scriptsize] at (-1.7, 0.8)	{$\left(\ftex\right)$};
									\node[font=\scriptsize] at (1.3, 0.8)	{$\left(\ftex\right)$};
									\node[\offColor	, font=\scriptsize] at (-0.7, 0.82)	{$\cdot 0$};
									\node[\onColor	, font=\scriptsize] at (2.3, 0.82)	{$\cdot 1$};
									\draw[-&gt;]	(-1.5 , 0.5)	-- (-1.5 , 0.05);
									\draw[-&gt;]	(1.4 , 0.55)	-- (1.65 , -0.4);
								\end{tikzpicture}
							</latex-image>
						</image>
					</figure>
				</sidebyside>
			</p>
			
			<p>
				Multiplying a function by <m>u(t)</m> has the effect of zeroing-out everything that came before <m>t = 0</m> and keeping everything after. This powerful trick allows us to <q>delay</q> any function until a specific moment in time.
			</p>
			
			<xi:include href="./c7-exercises/c7-chkpts-4-1-1-unit-step-functions.ptx" />

		</subsubsection>

		<reading-questions><title> 👀 <em>Reading Preparation</em> </title>

			<p>
				<exercise label="prep-matching-shifts"><title>Matching Shifts of <m>y=x^2</m></title>
					<statement>
						<p>
							Consider the function <m>y=x^2</m>. Match each of the shifted versions of <m>y=x^2</m> with the correct description of how its graph is affected.
						</p>
					</statement>
					<matches>
						<match>
							<premise><m>y=(x - 1)^2</m></premise>
							<response>Horizontal shift by 1 (→)</response>
						</match>
						<match>
							<response>Vertical shift by -1 (↓)</response>
						</match>
						<match>
							<premise><m>y=(x + 1)^2</m></premise>
							<response>Horizontal shift by -1 (←)</response>
						</match>
						<match>
							<premise><m>y=x^2 + 1</m></premise>
							<response>Vertical shift by 1 (↑)</response>
						</match>
						<match>
							<premise><m>y=(x - 1)^2 + 1</m></premise>
							<response>Horizontal &amp; vertical shift by 1 (↗)</response>
						</match>
					</matches>
				</exercise>

				<exercise label="prep-shifted-unit-step-outputs"><title> Shifted Unit-Step Function </title>
					<statement>
						<p>
							The unit step function, defined by
							<me>
								u(t) = \left\{
								\begin{array}{ll}
									0,	&amp; t \lt 0\\
									1,	&amp; t \ge 0
								\end{array} \right.
							</me>
							jumps from <m>0</m> to <m>1</m> at <m>t=</m> <fillin mode="number" answer="0" />.
						</p>

						<p>
							Now consider a shifted version of the unit step function <m>u(t-4)</m> and give the output of this function for the following values of <m>t</m>.
						</p>

						<tabular>
							<col/>
							<col/>
							<col halign = "right"/>
							<col/>
							<col/>
							<row>
								<cell>(a)</cell>
								<cell><m>t=3:</m></cell>
								<cell><m>u(t-4)</m></cell>
								<cell><m>=</m></cell>
								<cell><fillin mode="number" answer="0" /></cell>
							</row>
							<row>
								<cell>(b)</cell>
								<cell><m>t=-3:</m></cell>
								<cell><m>u(t-4)</m></cell>
								<cell><m>=</m></cell>
								<cell><fillin mode="number" answer="0" /></cell>
							</row>
							<row>
								<cell>(c)</cell>
								<cell><m>t=4:</m></cell>
								<cell><m>u(t-4)</m></cell>
								<cell><m>=</m></cell>
								<cell><fillin mode="number" answer="1" /></cell>
							</row>
							<row>
								<cell>(d)</cell>
								<cell><m>t=0:</m></cell>
								<cell><m>u(t-4)</m></cell>
								<cell><m>=</m></cell>
								<cell><fillin mode="number" answer="0" /></cell>
							</row>
						</tabular>

						<p>
							So <m>u(t-4)</m> jumps from <m>0</m> to <m>1</m> at <m>t=</m> <fillin mode="number" answer="4" />.
						</p>
					</statement>
					<evaluation>
						<evaluate><test><strcmp use-answer="yes" /></test></evaluate>
						<evaluate><test><strcmp use-answer="yes" /></test></evaluate>
						<evaluate><test><strcmp use-answer="yes" /></test></evaluate>
						<evaluate><test><strcmp use-answer="yes" /></test></evaluate>
						<evaluate><test><strcmp use-answer="yes" /></test></evaluate>
						<evaluate><test><strcmp use-answer="yes" /></test></evaluate>
					</evaluation>
				</exercise>
			</p>
		
		</reading-questions>

		<subsubsection><title> Shifting the Unit Step Function Left or Right </title>
			<p>
				As we saw, the standard unit function <q>turns on</q> a function at <m>t=0</m>, but we would also like the ability to <q>turn on</q> a function at any time <m>t=c</m>. To do this, we can shift the unit step function to the right or left. The unit step function is defined as
			</p>

			<definition xml:id="unit-step-off-then-on">
				<statement>
					<p>
						The <em>shifted unit step function</em>, <m>u_c(t)</m>, is defined as
					</p>
					<sidebyside widths="2% 52% 2% 42% 2%" valign="middle">
						<p/>
						<p>
							<md>
								<mrow>
									u_c(t) 
									\amp = u(t - c) = \left\{
										\begin{array}{ll}
											0,	&amp; t \lt c\\
											1,	&amp; t \ge c
										\end{array} 
										\right.
								</mrow>
							</md>
							and has the graph shown to the right.
						</p>
						<p/>
						<p>
							<image>
								<latex-image>
									\begin{tikzpicture}[domain=-2.5:4.5, samples=100, scale=0.6]
				
										% === Piecewise Function with 2 Parts ===
	
										% === colors ===
										\def\offColor{blue}				\def\offFill{\offColor!15}
										\def\onColor{green!60!black}	\def\onFill{\onColor!15}
	
										% === figure/domain/tick bounds ===
										\def\tmin{-2.5}	\def\tmax{4.5}
										\def\ymin{-1.2}	\def\ymax{1.8}
										\def\tticks{-2, -1, 1, 2, 3, 4}
										\def\yticks{1}
									
										% === Transistions ===
										\def\c{1.5}
									
										% === Function definitions ===
										\newcommand{\uL}[1]{0}	\def\uLtex{0}
										\newcommand{\uR}[1]{1}	\def\uRtex{1}	
				
										% === Background regions ===
										\fill[\offFill] (\tmin,	\ymin)	rectangle (\c,	\ymax);
										\fill[\onFill]	(\c,	\ymin)	rectangle (\tmax,	\ymax);
									
										% === Axes ===
										\draw[-&gt;] (\tmin	,0		) -- (\tmax	,0		);
										\draw[-&gt;] (0		,\ymin	) -- (0		,\ymax	);
										\node[font=\scriptsize, below] at (\tmax - 0.1	, 0) {$t$};
				
										% === Tick marks and labels ===
										\foreach \t in \tticks {
											\draw[gray]	(\t,0.1) -- (\t,-0.1);					% t ticks
											\node[below, font=\scriptsize] at (\t,-0.08) {\t};	% t labels	
										}
										\foreach \y in \yticks {
											\draw[gray]	(0.1,\y) -- (-0.1,\y);				% y ticks
											\node[left, font=\scriptsize] at (0.1,\y) {\y};	% y labels
										}
									
										% === Function plots on [tmin, c] ===
										\draw[\offColor, very thick]	plot[domain=\tmin:\c-0.05, variable=\t]	(\t, {\uL{\t}});
										
										% === Function plots on [c, tmax] ===
										\draw[\onColor, very thick]		plot[domain=\c:\tmax, variable=\t]		(\t, {\uR{\t}});

										% === Transition Labels ===
										\node[font=\small, below] at ({\c}, -0.1) {$c$};
										
										% === Points at t=c ===
										\draw[\offColor, thick]	(\c,{\uL{\c}})	circle[radius=3pt];
										\fill[\onColor]			(\c,{\uR{\c}})	circle[radius=3pt];
										
										% === Function Labels ===
										\node[\offColor	, font=\scriptsize, above] at (-1.4					, 0.1)			{$u_c(t) = 0$};
										\node[\onColor	, font=\scriptsize, below] at ({(\c + \tmax)/2}		, {\ymax+0.15})	{$u_c(t) = 1$};
										\node[\offColor	, font=\scriptsize, above] at ({(\tmin + \c - 1)/2}	, \ymin-0.1)		{$\text{``off''}$};
										\node[\onColor	, font=\scriptsize, above] at ({(\c + \tmax)/2}		, \ymin-0.1)		{$\text{``on''}$};
									\end{tikzpicture}
								</latex-image>
							</image>
						</p>
						<p/>
					</sidebyside>
				</statement>
			</definition>

			<sidebyside width="70%" margins="15%">
				<figure>
					<caption> Exploring the product: <m>\left(\frac15 t^2 - 1\right) u(t)</m> </caption>
					<interactive xml:id="unit-step-2"
						platform="jsxgraph"
						aspect="5:2"
						dark-mode-enabled="yes"
						source="
							code/jsxgraph/jsx-core/board.js
							code/jsxgraph/jsx-core/piecewise.js
							code/jsxgraph/jsx-core/utils.js code/jsxgraph/unit-step-interactives/unit-step-2.js"
					>
						<sidebyside width="100%">
							<stack>
								<slate xml:id="unit-step-2-plot1" surface="jsxboard" aspect="5:2" />
							</stack>
						</sidebyside>
						<instructions>
							
						</instructions>
						<static>
							<image source="code/jsxgraph/img-labels/t.png" width="60%" />
						</static>
					</interactive>
				</figure>
			</sidebyside>

			<example><title> Turning a Function on at <m>t = 3</m> </title>
				<p>
					<statement>
						<p>
							Rewrite the piecewise function
							<me>
								f(t) = \left\{
								\begin{array}{ll}
									0,		&amp; t \lt \sfrac{\pi}{2}\\
									\sin t,	&amp; t \ge \sfrac{\pi}{2}
								\end{array} \right.
							</me>
							in terms of the shifted unit step function <m>u_c(t)</m>.
						</p>
					</statement>
				</p>

				<solution>
					<p>
						The function initially is <m>0</m> and then becomes <m>\sin t</m> at <m>t=\frac{\pi}{2}</m>. So the piecewise function, <m>f(t)</m>, is equivalent to
						<md>
							<mrow>
								f(t) \amp = \left\{
									\begin{array}{ll}
										0,	&amp; t \lt \sfrac{\pi}{2}\\
										\sin t,	&amp; t \ge \sfrac{\pi}{2}
									\end{array} 
								\right.
							</mrow>
							<mrow>
								\amp = \sin t \cdot {\color{BurntOrange}\ub{
								\left\{
									\begin{array}{ll}
										0,	&amp; t \lt \sfrac{\pi}{2}\\
										1,	&amp; t \ge \sfrac{\pi}{2}
									\end{array} 
								\right.}_{\large u_{\sfrac{\pi}{2}}(t)}}
							</mrow>
						</md>
						and therefore, the piecewise function, <m>f(t)</m>, can be written as
						<me>
							f(t) = \sin t \cdot u_{\sfrac{\pi}{2}}(t)
						</me>,
						which has the following graph
					</p>
					
					<p>
						<sidebyside width="100%" margins="0%">
							<figure xml:id="tsqrd-off-then-on-at-pi-over-2">
								<caption> Graph of <m>\sin t \cdot u_{\sfrac{\pi}{2}}(t)</m> </caption>
								<image>
									<latex-image>
										\begin{tikzpicture}[domain=-4:7, samples=200, scale=0.7]
				
											% === Piecewise Function with 2 Parts ===

											% === colors ===
											\def\offColor{blue}				\def\offFill{\offColor!15}
											\def\onColor{green!60!black}	\def\onFill{\onColor!15}

											% === figure/domain/tick bounds ===
											\def\tmin{-4}	\def\tmax{7}
											\def\ymin{-1.6}	\def\ymax{1.6}
											\def\tticks{
												{-pi}		/ $-\pi$,
												{-pi/2}		/ $-\frac{\pi}{2}$,
												{pi/2}		/ $\frac{\pi}{2}$,
												{pi}		/ $\pi$,
												{3*pi/2}	/ $\frac{3\pi}{2}$,
												{2*pi}		/ $2\pi$
											}
											\def\yticks{
												-1 / $-1$,
												1  / $1$,
											}
										
											% === Transistions ===
											\def\c{pi/2}
										
											% === Function definitions ===
											\newcommand{\f}[1]{sin(#1 r)}		\def\ftex{\sin t}
											\newcommand{\uL}[1]{0}				\def\uLtex{0}
											\newcommand{\uR}[1]{1}				\def\uRtex{1}
										
											% === Background regions ===
											\fill[\offFill] (\tmin, \ymin) rectangle (\c, \ymax);
											\fill[\onFill] (\c, \ymin) rectangle (\tmax, \ymax);
										
											% === Axes ===
											\draw[-&gt;] (\tmin, 0) -- (\tmax, 0);
											\draw[-&gt;] (0, \ymin) -- (0, \ymax);
											\node[font=\scriptsize, below] at (\tmax - 0.1 , 0) {$t$};
											
											% === Tick marks and labels ===
											\foreach \t /\n in \tticks {
												\draw[gray, shift={(\t,0)}] (0pt,2pt) -- (0pt,-2pt) node[black, below, font=\scriptsize] {\n};
											}
        
											\foreach \t /\n in \yticks {
												\draw[gray, shift={(0,\t)}] (2pt,0pt) -- (-2pt,0pt) node[black, left, font=\scriptsize] {\n};
											}

											% === Function plots on [tmin, c] ===
											\draw[\offColor, very thick]	plot[domain=\tmin:\c-0.05, variable=\t]	(\t, {\uL{\t}});
											\draw[\offColor!50, thick, dashed]	plot[domain=\tmin:\c-0.05, variable=\t]	(\t, {\f{\t}});

											% === Function plots on [c, tmax] ===
											\draw[\onColor, very thick]		plot[domain=\c:\tmax, variable=\t]	(\t, {\f{\t}});

											\draw[\onColor!50, thick, dashed]	plot[domain=\c:\tmax, variable=\t]	(\t, {\uR{\t}});

											% === Points at t=c ===
											\draw[\offColor, thick]	(\c,{\uL{\c}})	circle[radius=3pt];
											\fill[\onColor]			(\c,{\f{\c}})	circle[radius=3pt];

											% === Function Labels ===
											\node[\offColor	, font=\scriptsize, above] at ({(\tmin + \c)/2},	1)	{$u(t) = 0$};
											\node[\onColor	, font=\scriptsize, above] at ({(\c + \tmax)/2},	1)	{$u(t) = 1$};
											\node[\offColor	, font=\scriptsize, above] at ({(\tmin + \c)/2}, \ymin)	{$\text{``off''}$};
											\node[\onColor	, font=\scriptsize, above] at ({(\c + \tmax)/2}, \ymin)	{$\text{``on''}$};
											\node[font=\scriptsize, above] at (-1.2, 0)	{$\left(\ftex\right)\cdot\color{\offColor}{0}$};
											\node[font=\scriptsize, above] at (4.3, 0)	{$\left(\ftex\right)\cdot\color{\onColor}{1}$};
										\end{tikzpicture}
									</latex-image>
								</image>
							</figure>
						</sidebyside>
					</p>
				</solution>
			</example> 

		</subsubsection>

		<subsubsection><title> Reversing the Direction of the Unit Step Function </title>

			<p> 
				In the previous sections, we saw how a shifted unit step function, <m>u_c(t) = u(t-c)</m>, turns a function <em>on</em> at a specific time <m>t=c</m>. However, sometimes we need the opposite behavior: we want a function to be <em>on</em> initially and then turn <em>off</em> at a certain point. This requires reversing the direction of the unit step function.
			</p>

			<p> 
				One way to accomplish this is by subtracting the unit step function from 1. That is, we use the function
				<sidebyside widths="50% 50%" valign="top">
					<p>
						In particular, we define the function
						<md>
							<mrow>
								1 - {\color{BurntOrange}u_c(t)}
								\amp = 1 - {\color{BurntOrange}
								\left\{
									\begin{array}{ll}
										0,	&amp; t \lt c\\
										1,	&amp; t \ge c
									\end{array} 
								\right.}
							</mrow>
							<mrow/>
							<mrow>
								1 - u_c(t)
								\amp =
								\left\{
									\begin{array}{ll}
										1,	&amp; t \lt c\\
										0,	&amp; t \ge c
									\end{array} 
								\right.
							</mrow>
						</md>
					</p>
					<p>
						<figure xml:id="unit-step-on-then-off">
							<caption> Graph of <m>1 - u_c(t)</m> </caption>
							<image>
								<latex-image>
									\begin{tikzpicture}[domain=-3.5:4.8, samples=100, scale=0.7]
				
										% === Piecewise Function with 2 Parts ===

										% === colors ===
										\def\offColor{blue}				\def\offFill{\offColor!15}
										\def\onColor{green!60!black}	\def\onFill{\onColor!15}

										% === figure/domain/tick bounds ===
										\def\tmin{-3.5}	\def\tmax{4.8}
										\def\ymin{-1.1}	\def\ymax{1.9}
										\def\tticks{-3, -2, -1, 1, 2, 3, 4}
										\def\yticks{1}
									
										% === Transistions ===
										\def\c{1.4}
									
										% === Function definitions ===
										\newcommand{\uL}[1]{0}	\def\uLtex{0}
										\newcommand{\uR}[1]{1}	\def\uRtex{1}	
				
										% === Background regions ===
										\fill[\onFill]	(\tmin, \ymin)	rectangle (\c, \ymax);
										\fill[\offFill]	(\c, \ymin)		rectangle (\tmax, \ymax);
									
										% === Axes ===
										\draw[-&gt;] (\tmin, 0) -- (\tmax, 0);
										\draw[-&gt;] (0, \ymin) -- (0, \ymax);
										\node[font=\scriptsize, below] at (\tmax - 0.1	, 0) {$t$};
				
										% === Tick marks and labels ===
										\foreach \t in \tticks {
											\draw[gray]	(\t,0.1) -- (\t,-0.1);					% t ticks
											\node[below, font=\scriptsize] at (\t,-0.08) {\t};	% t labels	
										}
										\foreach \y in \yticks {
											\draw[gray]	(0.1,\y) -- (-0.1,\y);				% y ticks
											\node[left, font=\scriptsize] at (0.1,\y) {\y};	% y labels
										}
									
										% === Function plots on [tmin, c] ===
										\draw[\onColor, very thick]	plot[domain=\tmin:\c-0.05, variable=\t]	(\t, {1-\uL{\t}});
										
										% === Function plots on [c, tmax] ===
										\draw[\offColor, very thick]		plot[domain=\c:\tmax, variable=\t]	(\t, {1-\uR{\t}});
										
										% === Transition Labels ===
										\node[font=\small, below] at ({\c}, -0.1) {$c$};
										
										% === Points at t=c ===
										\draw[\onColor, very thick]	(\c,{1-\uL{\c}})	circle[radius=3pt];
										\fill[\offColor]			(\c,{1-\uR{\c}})	circle[radius=3pt];
										
										% === Function Labels ===
										\node[\onColor, font=\small, above]			at ({(\tmin+\c)/2-1}, 1.0)		{$1 - u_c(t) = 1$};
										\node[\offColor, font=\small, above]		at ({(\c+\tmax)/2}, 0.0)		{$1 - u_c(t) = 0$};
										\node[\onColor, font=\scriptsize, above]	at ({(\tmin+\c)/2}, \ymin-0.1)	{$\text{``on''}$};
										\node[\offColor, font=\scriptsize, above]	at ({(\c+\tmax)/2}, \ymin-0.1)	{$\text{``off''}$};
									\end{tikzpicture}
								</latex-image>
							</image>
						</figure>
					</p>
				</sidebyside>
			</p>

			<p> 
				So, to activate a function on an interval, like <m>(c, \infty)</m>, we multiply the function by <m>u_c(t)</m>. In contrast, to activate a function on an interval, like <m>(-\infty, c)</m>, we multiply the function by <m>1 - u_c(t)</m>. Thus, you can think of <m>1 - u_c(t)</m> as a <em>switch</em> that is initially on and flips off at <m>t=c</m>.
			</p>
			
			<example><title> Turning a Function Off at <m>t = 3</m> </title>
				<p>
					<statement>
						<p>
							Construct a function that behaves like <m>f(t) = t^2</m> for <m>t \lt 3</m> but becomes zero for <m>t \ge 3</m>.
						</p>
					</statement>
				</p>

				<solution>
					<p>
						We multiply <m>f(t) = t^2</m> by <m>1 - u_3(t)</m>:
						<me>
							f_{\text{switched}}(t) = t^2 \left( 1 - u_3(t) \right).
						</me>
					</p>
				
					<p>
						This product behaves as follows:
						<ul>
							<li><p>For <m>t &lt; 3</m>: <m>u_3(t) = 0</m>, so <m>f_{\text{switched}}(t) = t^2</m>.</p></li>
							<li><p>For <m>t \ge 3</m>: <m>u_3(t) = 1</m>, so <m>f_{\text{switched}}(t) = 0</m>.</p></li>
						</ul>
					</p>
				</solution>
			</example> 
			
			<aside> <title>Summary</title> 
				<p> 
					Multiplying a function by <m>u_c(t)</m> turns it **on** at <m>t = c</m>. Multiplying by <m>1 - u_c(t)</m> turns it **off** at <m>t = c</m>.
				</p>
			</aside> 

			<p> 
				With this reversed unit step approach, we can model situations where a function is active initially but then deactivates at a specific time. This flexibility will be essential when building formulas for piecewise functions over different types of intervals.
			</p>
		</subsubsection>

		<subsubsection><title> Unit Step Functions on an Interval </title>

			<p>
				So far, we've seen how a unit step function can turn a function <em>on</em> at a certain time or <em>off</em> at a certain time. But what if we want a function to be active <em>only between two times</em>, say between <m>t = c</m> and <m>t = d</m>?
			</p>
			
			<p>
				We can achieve this by combining two unit step functions:
				<me>
					u_c(t) - u_d(t).
				</me>
			</p>
			
			<p>
				This difference acts like a gate that opens at <m>t = c</m> and closes at <m>t = d</m>:
				<ul>
				<li><p>For <m>t &lt; c</m>: both <m>u_c(t)</m> and <m>u_d(t)</m> are zero, so <m>u_c(t) - u_d(t) = 0</m>.</p></li>
				<li><p>For <m>c \le t &lt; d</m>: <m>u_c(t) = 1</m> and <m>u_d(t) = 0</m>, so <m>u_c(t) - u_d(t) = 1</m>.</p></li>
				<li><p>For <m>t \ge d</m>: both <m>u_c(t)</m> and <m>u_d(t)</m> are one, so <m>u_c(t) - u_d(t) = 0</m>.</p></li>
				</ul>
			</p>
			
			<p>
				In other words, <m>u_c(t) - u_d(t)</m> is equal to one precisely on the interval <m>[c, d)</m> and zero everywhere else.
			</p>
			
			<example><title>Activating a Function Only Between <m>t = 1</m> and <m>t = 4</m></title>
				<p>
					<statement>
						<p>
							Construct a function that behaves like <m>f(t) = t + 2</m> between <m>t = 1</m> and <m>t = 4</m> but is zero outside of this interval.
						</p>
					</statement>
				</p>
			
				<solution>
					<p>
						We multiply <m>f(t)</m> by the switching function <m>u_1(t) - u_4(t)</m>:
						<me>
							f_{\text{interval}}(t) = (t + 2) \left( u_1(t) - u_4(t) \right).
						</me>
					</p>
				
					<p>
						This product behaves as follows:
						<ul>
							<li><p>For <m>t &lt; 1</m> and <m>t \ge 4</m>, the function is zero.</p></li>
							<li><p>For <m>1 \le t &lt; 4</m>, the function behaves like <m>t + 2</m>.</p></li>
						</ul>
					</p>
				</solution>
			</example>
			
			<aside>
				<title>Summary</title>
				<p>
					Multiplying by <m>u_c(t) - u_d(t)</m> restricts a function to live <em>only</em> between <m>t = c</m> and <m>t = d</m>.
				</p>
			</aside>
			
			<p>
				This gives us complete flexibility: we can now model any single piece of a piecewise function—whether it needs to start at a time, end at a time, or be limited to an interval.
			</p>
			
		</subsubsection>

	</subsection>

</section>