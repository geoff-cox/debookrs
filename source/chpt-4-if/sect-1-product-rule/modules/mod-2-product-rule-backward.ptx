<subsection xmlns:xi="http://www.w3.org/2001/XInclude" xml:id="subsec-if-product-rule-backward"><title> Backward </title>

	<p>
		The examples above illustrate how to apply the product rule in the forward direction, however <em>the integrating factor method applies the product rule in the reverse direction</em>. So let's practice this in the next few examples.		  		  
	</p>

	<example xml:id="example-if-product-rule-reverse-01">
  
		<p>
			Suppose some product rule produced the following derivative
	
			<men xml:id="example-if-product-rule-reverse-01-eq">
				2e^{2x} \cdot \sin x + e^{2x}\cdot \cos x.
			</men>

			Write down the product rule that this came from. That is, rewrite it in the form 
			<me>[f \cdot g]^{\prime}.</me>
			
		</p>
  
		<solution>
  
			<p>
				Our goal is to find <m>f</m> and <m>g</m> so that the <xref ref="if-product-rule" text="custom"> product rule </xref> gives us <xref ref="example-if-product-rule-reverse-01-eq"/>. This requires that we match the terms of <m>f' \cdot g + f \cdot g'</m> and <xref ref="example-if-product-rule-reverse-01-eq"/>.
			</p>

			<p>
				Observing that <m>[e^{2x}]^{\prime} = 2e^{2x}</m>, and <m>[\sin x]^{\prime} = \cos x,</m> then it makes sense to match the terms like so
				<me>\underset{f^{'}}{\underline{2e^{2x}}} \cdot \underset{g}{\underline{\sin x}} + \underset{f}{\underline{e^{2x}}} \cdot \underset{g^\prime}{\underline{\cos x}}.</me>
		  	</p>

			<p>
				Therefore, we can rewrite <xref ref="example-if-product-rule-reverse-01-eq"/> like so 
				<me>2e^{2x} \cdot \sin x + e^{2x}\cdot \cos x = [e^{2x} \cdot \sin x]^{\prime},</me>
				and we have "reversed the product rule".
			</p>
  
		</solution>
  
	</example>
  
	<example xml:id="example-if-product-rule-reverse-02">
  
		<p>
			Rewrite the expression
		  	<men xml:id="example-if-product-rule-reverse-02-eq">
				\frac{dy}{dx} \cdot e^{5x^2} + 10xe^{5x^2}\cdot y
			</men>
			as a "reversed product rule" in the form 
			<me>\frac{d}{dx}\left[y \cdot \mu\right].</me>
		</p>
  
		<solution>

			<p>
				We know that <m>\DS \frac{d}{dx}\left[y \cdot \mu\right]</m> can be written as 
				<me>\frac{dy}{dx} \cdot \mu + y \cdot \frac{d\mu}{dx}.</me>
				So we must match these terms with the terms in <xref ref="example-if-product-rule-reverse-02-eq"/>. Writing out these terms side-by-side helps determine the matching, as shown here
			</p>

			<figure>
				<caption> Matching the terms of the top and middle expressions in order to reverse the product rule. Notice the <m>y</m> terms are already equal, so we only need to find <m>\mu</m>.</caption>
				<image width="40%">

					<latex-image>
						\begin{tikzpicture}[relative]
							\node[anchor=south, inner sep=-1pt] (E1T1) 	at (-1.44,2.8)	{\underline{$\DS\frac{dy}{dx}$}};
							\node[anchor=south, inner sep=-1pt] (E1D1) 	at (-1.1,3.1) 	{$\cdot$};
							\node[anchor=south, inner sep=-1pt] (E1T2) 	at (-0.6,3) {\underline{$\DS e^{5x^2}$}};
							\node[anchor=south, inner sep=-1pt] (E1C) 	at (0,3.1) 	{$+$};
							\node[anchor=south, inner sep=-1pt] (E1T3) 	at (0.9,3) 	{\underline{$\DS10xe^{5x^2}$}};
							\node[anchor=south, inner sep=-1pt] (E1D2) 	at (1.6,3.1) 	{$\cdot$};
							\node[anchor=south, inner sep=-1pt] (E1T4) 	at (1.9,3) 	{\underline{$\DS y$}};
							\node[anchor=center, inner sep=0pt] (E2T1) at (-1,2) 	{$\DS\frac{dy}{dx}$};
							\node[anchor=center] (E2D1) at (-0.7,2) 	{$\cdot$};
							\node[anchor=center] (E2T2) at (-0.4,2) 	{$\DS\mu$};
							\node[anchor=center, inner sep=6pt] (E2C) 	at (0,2) 	{$+$};
							\node[anchor=center] (E2T3) at (0.5,2) 	{$\DS\frac{d\mu}{dx}$};
							\node[anchor=center] (E2D2) at (0.8,2) 	{$\cdot$};
							\node[anchor=center] (E2T4) at (1,2) 	{$\DS y$};
							\node[anchor=center] (E3C) 	at (0,0.8) 	{$\DS\frac{d}{dx}\left[y \cdot \mu\right]$};
							
							\path[&lt;->] (E1T1.south) edge [bend right=30] (E2T1.north west);
							\path[&lt;->] (E1T2.south) edge (E2T2.north);
							\path[&lt;->] (E1T3.south) edge (E2T3.north);
							\path[&lt;->] (E1T4.south) edge [bend left=40] (E2T4.east);

							\draw (-0.06,1.47) to (-0.06,1.23);
							\draw (0.06,1.47) to (0.06,1.23);
						\end{tikzpicture}
					</latex-image>

				</image>
			</figure>

			<p>
				From the figure we see that <m>\mu = e^{5x^2}</m> since it is the term next to <m>\frac{dy}{dx}</m>. Moreover, a quick check also shows that <m>\frac{d\mu}{dx} = 10xe^{5x^2},</m> completing the matching.
			</p>
  
		  </solution>
  
	  </example>
  
	  <!-- <example xml:id="example-if-product-rule-review-05">
  
		  <p>
			Suppose the following expression is the derivative of a product of two functions, where <m>z</m> is a function of <m>t</m>:
  
			<me>6ze^{6t} + e^{6t} z'</me>
  
		Find the two functions and write down the derivative of their product, explicitly showing the steps involving the product rule.
		  </p>
  
		  <solution>
  
			  <p>
				  We are still trying to identify two functions, <m>f</m> and <m>g</m>, such that we see each function and its derivative as in the product rule. We may need to rearrange a little bit, but we do in fact have such functions, as shown below.
  
		  <me>
			\US{\large f'}{\US{\uparrow}{\UL{6e^{6t}}}} 	\cdot \US{\large g}{\US{\uparrow}{z}}
					+ \US{\large f}{\US{\uparrow}{\UL{e^{6t}}}}	\cdot \US{\large g'}{\US{\uparrow}{z'}}
		  </me>
  
				  Hence, <m>f=e^{6t}</m> and <m>g=z</m> and the derivative, using the product rule, is
  
		  <me>
			\frac{d}{dt}\Big( e^{6t}\cdot z \Big) = 6ze^{6t} + e^{6t} z'
				  </me>
			  </p>
  
			  <p>
				  Warning:  You've been looking at a very special class of expressions! Not every sum of terms comes from the product rule. For example, we cannot un-do the product rule in the expression
  
				  <me>x^3\cdot y' + x^2\cdot y,</me>
  
				  because the derivative of <m>x^3</m> is not <m>x^2</m>. You should pay close attention to whether you can or cannot un-do the product rule; this can help confirm if you have or have not made a mistake in solving a DE. We'll discuss this further later.
			  </p>
  
		  </solution>
  
	  </example> -->
  
	<p>
	  The idea in the previous examples will be at the center of helping us solve the DEs of this chapter, but we need to expand on this a bit to fully prepare you for the discussion in the next section. Let's now dive into the following examples to see what we mean.
	</p>

	<example xml:id="example-if-product-rule-reverse-03">
  
		<p>
			Rewrite the expression
		  	<men xml:id="example-if-product-rule-reverse-03-eq">
				e^{h(x)} \cdot y' + 3x^2 e^{h(x)}\cdot y
			</men>
			as a "reversed product rule" in the form 
			<me>\frac{d}{dx}\left[y \cdot e^{h(x)}\right].</me>
		</p>

		<solution>

			<p>
				We will approach this as before and attempt to match the appropriate terms.
			</p>

			<p>
				The <xref ref="if-product-rule" text="custom"> product rule </xref> tells us that <m>\frac{d}{dx}\left[y \cdot e^{h(x)}\right]</m> is the same as 
				<me>y' \cdot e^{h(x)} + y \cdot e^{h(x)} \cdot h'.</me>
				<aside>
					<p>
						We used the chain rule to compute <m>\frac{d}{dx}\left[e^{h(x)}\right].</m>
					</p>
				</aside>
				After arranging the terms, we match <xref ref="example-if-product-rule-reverse-03-eq"/> with
				<me>e^{h(x)} \cdot y' + \underline{h'(x)} e^{h(x)} \cdot y.</me>
				and see that <m>h'(x)</m> can only be matched to <m>3x^2</m>. So, 
				<me>h'(x) = 3x^2,</me>
				and this means that <m>h</m> is the anti-derivative of <m>3x^2</m>, or 
				<me>h(x) = x^3 + C.</me>
				This shows that there are many possible answers (one for each value of <m>C</m>), but only one is required. So we pick <m>C=0</m> which makes <m>h(x) = x^3</m> and conclude that
				<me>e^{h(x)} \cdot y' + 3x^2 e^{h(x)}\cdot y = \frac{d}{dx}\left[y \cdot e^{x^3}\right].</me>
			</p>

		</solution>

	</example>

  
	<example xml:id="example-if-product-rule-reverse-04">
  
		<p>
			Find a function, <m>\mu</m>, such that tbe product rule applied to <m>\frac{d}{dx}\left[y \cdot \mu\right]</m> gives
		  	<men xml:id="example-if-product-rule-reverse-04-eq">
				\mu \cdot y' + 6 \mu \cdot y.
			</men>
		</p>
  
		<solution>
  
			<p>
			As we did before, we need to identify functions  such that we see each function and its derivative as in the product rule. We might label them as follows.
			<me>
				\begin{array}{ccccccc}
				z \!\!\!\! \amp \cdot \amp \!\!\!\! y' \!\!\!\! \amp + \amp \!\!\!\! 6z \!\!\!\! \amp \cdot \amp \!\!\!\! y \\
				\underset{\large f }{\uparrow} \!\!\!\! \amp \amp \!\!\!\! \underset{\large g'}{\uparrow} \!\!\!\! \amp \amp \!\!\!\! \underset{\large f'}{\uparrow} \!\!\!\! \amp \amp \!\!\!\! \underset{\large g }{\uparrow} \\
				\end{array}
			</me>
			</p>
	
			<p>
			Based on the labeling in the question above, if we are going to be able to un-do the product rule, we need the function <m>z</m> to be such that its derivative is <m>6z</m>. We can translate that into a mathematical statement:
			<me>
				\text{"the derivative of } z \text{ is } 6z \text{"}\hspace{0.1cm} \Rightarrow \hspace{0.1cm}\frac{dz}{dx} = 6z.
			</me>
			</p>
	
			<p>
			In order to determine the unknown function <m>z</m>, we need to solve a differential equation! It turns out that this DE is first order and separable, so we can solve it using separation of variables.
			<md>
				<mrow>	\frac{dz}{dx}	\amp = 6z	</mrow>
				<mrow>			\frac{dz}{dx} \cdot dx	\amp = 6z \cdot dx	</mrow>
				<mrow>			\frac 1z\ dz \amp = 6 \cdot dx	</mrow>
				<mrow>			\int\frac1z\ dz \amp = \int 6\ dx	</mrow>
				<mrow>			\ln|z|	\amp = 6x+C	</mrow>
				<mrow>			|z|	\amp = e^{6x+C}	</mrow>
				<mrow>			z	\amp = \pm e^C e^{6x}	</mrow>
				<mrow>			z	\amp = A e^{6x}	</mrow>
			</md>
			</p>
	
			<p>
			While we could choose any value for <m>A</m> that we like, we are looking for just one function <m>z</m>, so we will simplify things by choosing <m>A = 1</m>. Thus, the function we found is <m>z = e^{6x}</m>.
			Now let's confirm that it works. If we substitute our function in for <m>z</m> in <xref ref="example-if-product-rule-reverse-04-eq" />, then we can un-do the product rule as follows:
	
			<me>
				\begin{array}{cccccccccccc}
				e^{6x} \!\!\!\! \amp \cdot \amp \!\!\!\! y' \!\!\!\! \amp + \amp \!\!\!\! 6e^{6x} \!\!\!\! \amp \cdot \amp \!\!\!\! y \!\!\!\! \amp \DS = \frac{d}{dx}\Big( \amp \!\!\!\! e^{6x} \!\!\!\! \amp \cdot \amp \!\!\!\! y \!\!\!\!\! \amp \Big). \\
				\underset{\large f }{\uparrow} \!\!\!\! \amp \amp \!\!\!\! \underset{\large g'}{\uparrow} \!\!\!\! \amp \amp \!\!\!\! \underset{\large f'}{\uparrow} \!\!\!\! \amp \amp \!\!\!\! \underset{\large g }{\uparrow} \!\!\!\! \amp \amp \!\!\!\! \underset{\large f }{\uparrow} \!\!\!\! \amp \amp \!\!\!\! \underset{\large g }{\uparrow} \!\!\!\!\! \amp \\
				\end{array}
			</me>
			</p>
	
			<p>
			Notice that if we identify <m>e^{6x}</m> as the function <m>f</m>, then we do indeed see its derivative, <m>6e^{6x}</m> in the other term. If we made a mistake in finding the function <m>z</m>, this would be the point where we could catch our mistake.
			</p>
	
		</solution>
  
	  </example>
  
	<example xml:id="example-if-product-rule-review-07">
  
	  <p>
		Suppose <m>y</m> is a function of <m>x</m>. Find one function <m>z(x)</m> such that the derivative of <m>z(x)\cdot y</m> has the form
		<men xml:id="undo_prod3"> z\cdot y' + z\sec^2 x\cdot y</men>
	  </p>
  
	  <solution>
  
		<p>
		  It may be easier to sort this out if we label parts of the equation to align with the product rule, as below.
		  <me>
			\UB{z}_{\scriptsize f}\cdot \UB{y'}_{\scriptsize g'} + \UB{z\sec^2 x}_{\scriptsize f'}\cdot \UB{y}_{\scriptsize g}
		  </me>
		</p>
  
		<p>
		  If we're going to be able to undo the product rule, we will need to find a function <m>z</m> such that
		  <me>\frac{dz}{dx} = z\sec^2 x.</me>
		</p>
  
		<p>
		  This is a first order, separable DE, and we solve it accordingly.
  
		  <md>
			<mrow>\frac{1}{z}dz	\amp = \sec^2 x dx	</mrow>
			<mrow>\int \frac{1}{z}dz	\amp = \int \sec^2 x dx	</mrow>
			<mrow>		\ln|z|	\amp = \tan x + C	</mrow>
			<mrow>		|z|	\amp =e^{\tan x + C}	</mrow>
			<mrow>		z	\amp = \pm e^C\cdot e^{\tan x}	</mrow>
			<mrow>		z	\amp = A e^{\tan x}	</mrow>
		  </md>
		</p>
  
		<p>
		  Since we need only one function <m>z</m>, we can choose any value we like for <m>A</m>. Here we will choose <m>A = 1</m>, and therefore the function <m>z</m> is <m>z = e^{\tan x}</m>. We can check by un-doing the product rule.
  
		  <md>
			<mrow>\UB{e^{\tan x}}_{\scriptsize f}\cdot \UB{y'}_{\scriptsize g'}
			+ \UB{e^{\tan x}\sec^2 x}_{\scriptsize f'}\cdot \UB{y}_{\scriptsize g}
			\amp = \frac{d}{dx}\Big( \UB{e^{\tan x}}_{\scriptsize f}\cdot
			\UB{y}_{\scriptsize g} \Big)	</mrow>
		  </md>
		</p>
  
	  </solution>
  
	</example>
  
	<example xml:id="example-if-product-rule-review-08">
  
	  <p>
		Suppose <m>P</m> and <m>y</m> are functions of <m>x</m>. Find one function <m>z(x)</m> such that the derivative of <m>z(x)\cdot y</m> has the form
		<men xml:id="undo_prod4"> z\cdot y' + z P(x)\cdot y	</men>
	  </p>
  
	  <solution>
  
		<p>
		  This is a generic version of the previous example. If we can draw a conclusion using this generic version, we might be able to use it in future examples.
		</p>
  
		<p>
		  As before, it may be easier to sort this out if we label parts of the equation to align with the product rule, as below.
		  <me>
		  \UB{z}_{\scriptsize f}\cdot \UB{y'}_{\scriptsize g'} + \UB{zP(x)}_{\scriptsize f'}\cdot \UB{y}_{\scriptsize g}
		  </me>
		</p>
  
		<p>
		  If we're going to be able to undo the product rule, we will need to find a function <m>z</m> such that
		  <me>\frac{dz}{dx} = zP(x).</me>
		</p>
  
		<p>
		  This is a first order, separable DE, and we solve it accordingly.
		  <md>
			<mrow>	\frac{1}{z}dz	\amp = P(x) dx	</mrow>
			<mrow>	\int \frac{1}{z}dz	\amp = \int P(x) dx	</mrow>
			<mrow>		\ln|z|	\amp = \int P(x) dx	</mrow>
			<mrow>		|z|	\amp =e^{\int P(x) dx}	</mrow>
			<mrow>		z	\amp = \pm e^{\int P(x) dx}	</mrow>
		  </md>
		</p>
  
		<p>
		  Since we need only one function <m>z</m>, we usually choose the positive one and therefore we write <m>z = e^{\int P(x) dx}</m>.
		</p>
  
		<p>
		  This may not look like much, but let's see if it would work for the previous examples already did. Recall that we were trying to un-do the product rule in the expression
		  <men> z\cdot y' + z\sec^2 x\cdot y	</men>
		</p>
  
		<p>
		  In this example, we would identify the function <m>P(x)</m> as <m>P(x) = \sec^2 x</m>. Then the function <m>z</m> we desire would be given by
		  <me>\DS z = e^{\int P(x) dx} = e^{\int \sec^2 x dx} = e^{\tan x + C} = e^{\tan x}.</me>
		</p>
  
		<p>
		  (Notice that we chose <m>C = 0</m> because we need only one function <m>z</m>, and this is the simplest choice for <m>C</m>).
		</p>
  
		<p>
		  So our formula does give the same function <m>z</m> we found previously. Let's practice one more.
		</p>
  
	  </solution>
  
	</example>
  
	<example xml:id="example-if-product-rule-review-09">
  
	  <p>
		Suppose <m>y</m> is a function of <m>x</m>. Find one function <m>z(x)</m> such that the derivative of <m>z(x)\cdot y</m> has the form
		<me>z\cdot y' + z\cdot\frac{1}{x}\cdot y</me>
	  </p>
  
	  <solution>
  
		<p>
		  In this example, the <m>\DS \frac{1}{x}</m> plays the same role as <m>P(x)</m> (in the previous <xref ref="example-if-product-rule-review-07" />). Thus we can find <m>z</m> in a similar way.
		  <me>\DS z = e^{\int 1/x\ dx} = e^{\ln|x| + C}.</me>
		</p>
  
		<p>
		  As in the previous example, we need only one function <m>z</m>, so we can simplify this expression. In this case, we can choose <m>C = 0</m>, and we can also eliminate the absolute value. This lead us to <m>z = e^{\ln x}</m>, which further simplifies to <m>z = x</m>. As in the previous examples, we can replace <m>z</m> in the original expression and then actually un-do the product rule.
		  <md>
			<mrow> z\cdot y' + z\cdot\frac{1}{x}\cdot y	\amp = x\cdot y' + x\cdot\frac{1}{x}\cdot y	</mrow>
			<mrow>							\amp = x\cdot y' +  y	</mrow>
			<mrow>							\amp = \frac{d}{dx}\Big( xy \Big)	</mrow>
		  </md>
		</p>
  
	  </solution>
  
	</example>
	
</subsection>